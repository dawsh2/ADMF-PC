# Test compositional syntax with filters
name: test_compositional_filter
mode: signal_generation

symbols: ["SPY"]

# Compositional syntax with filter
strategy:
  - keltner_bands:
      period: 20
      multiplier: 2.0
      filter: "signal == 0 or (volume > volume_sma_20 * 1.5 and bar_of_day > 10)"

# Required fields
data:
  type: file
  start_date: "2024-01-01"
  end_date: "2024-06-30"
  config:
    file_pattern: "./data/{symbol}.csv"

portfolio:
  initial_capital: 100000
  position_sizing: fixed
  size: 0.1

timeframe: "5m"
dataset: test