{
  "workflow_id": "two_layer_regime_ensemble_v1",
  "workspace_path": "workspaces/two_layer_regime_ensemble_v1_b6906c3d",
  "total_bars": 102235,
  "total_signals": 0,
  "total_classifications": 1,
  "stored_changes": 1,
  "compression_ratio": 100.0,
  "components": {
    "SPY_market_regime_detector": {
      "component_type": "classifier",
      "strategy_type": "regime",
      "signal_file_path": "traces/SPY_1m/classifiers/regime/SPY_market_regime_detector.parquet",
      "total_bars": 19,
      "signal_changes": 1,
      "compression_ratio": 0.05263157894736842,
      "signal_frequency": 0.05263157894736842,
      "parameters": {},
      "created_at": "2025-06-17T12:13:34.807599"
    }
  },
  "strategy_metadata": {
    "strategies": {
      "baseline_plus_regime_boosters_{'name': 'dema_crossover', 'params': {'fast_dema_period': 19, 'slow_dema_period': 15}, 'weight': 0.2}": {
        "type": "two_layer_ensemble",
        "name": "baseline_plus_regime_boosters_{'name': 'dema_crossover', 'params': {'fast_dema_period': 19, 'slow_dema_period': 15}, 'weight': 0.2}",
        "params": {
          "classifier_name": "market_regime_detector",
          "baseline_allocation": 0.6,
          "regime_allocation": 0.4,
          "regime_boosters": {
            "bull_ranging": [
              {
                "name": "roc_threshold",
                "params": {
                  "period": 5,
                  "threshold": 0.05
                },
                "weight": 0.369
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.243
              },
              {
                "name": "atr_channel_breakout",
                "params": {
                  "atr_period": 7,
                  "channel_period": 30,
                  "atr_multiplier": 1.5
                },
                "weight": 0.215
              },
              {
                "name": "mfi_bands",
                "params": {
                  "period": 7,
                  "oversold": 25,
                  "overbought": 85
                },
                "weight": 0.173
              }
            ],
            "bear_ranging": [
              {
                "name": "trendline_bounces",
                "params": {
                  "lookback": 5,
                  "min_touches": 2,
                  "threshold": 0.0005,
                  "strength": 0.1
                },
                "weight": 0.289
              },
              {
                "name": "tema_sma_crossover",
                "params": {
                  "tema_period": 5,
                  "sma_period": 23
                },
                "weight": 0.265
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.233
              },
              {
                "name": "macd_crossover",
                "params": {
                  "fast_ema": 5,
                  "slow_ema": 35,
                  "signal_ema": 9
                },
                "weight": 0.214
              }
            ],
            "neutral": [
              {
                "name": "ichimoku",
                "params": {
                  "conversion_period": 9,
                  "base_period": 35
                },
                "weight": 0.31
              },
              {
                "name": "williams_r",
                "params": {
                  "williams_period": 21,
                  "oversold": -80,
                  "overbought": -20
                },
                "weight": 0.269
              },
              {
                "name": "ema_sma_crossover",
                "params": {
                  "ema_period": 5,
                  "sma_period": 50
                },
                "weight": 0.212
              },
              {
                "name": "aroon_crossover",
                "params": {
                  "period": 14
                },
                "weight": 0.209
              }
            ]
          },
          "baseline_strategies": {
            "name": "dema_crossover",
            "params": {
              "fast_dema_period": 19,
              "slow_dema_period": 15
            },
            "weight": 0.2
          }
        },
        "depth": 0,
        "is_ensemble": true,
        "total_sub_strategies": 0,
        "unique_strategy_types": 0
      },
      "baseline_plus_regime_boosters_{'name': 'elder_ray', 'params': {'ema_period': 13, 'bull_threshold': 0, 'bear_threshold': -0.001}, 'weight': 0.2}": {
        "type": "two_layer_ensemble",
        "name": "baseline_plus_regime_boosters_{'name': 'elder_ray', 'params': {'ema_period': 13, 'bull_threshold': 0, 'bear_threshold': -0.001}, 'weight': 0.2}",
        "params": {
          "classifier_name": "market_regime_detector",
          "baseline_allocation": 0.6,
          "regime_allocation": 0.4,
          "regime_boosters": {
            "bull_ranging": [
              {
                "name": "roc_threshold",
                "params": {
                  "period": 5,
                  "threshold": 0.05
                },
                "weight": 0.369
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.243
              },
              {
                "name": "atr_channel_breakout",
                "params": {
                  "atr_period": 7,
                  "channel_period": 30,
                  "atr_multiplier": 1.5
                },
                "weight": 0.215
              },
              {
                "name": "mfi_bands",
                "params": {
                  "period": 7,
                  "oversold": 25,
                  "overbought": 85
                },
                "weight": 0.173
              }
            ],
            "bear_ranging": [
              {
                "name": "trendline_bounces",
                "params": {
                  "lookback": 5,
                  "min_touches": 2,
                  "threshold": 0.0005,
                  "strength": 0.1
                },
                "weight": 0.289
              },
              {
                "name": "tema_sma_crossover",
                "params": {
                  "tema_period": 5,
                  "sma_period": 23
                },
                "weight": 0.265
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.233
              },
              {
                "name": "macd_crossover",
                "params": {
                  "fast_ema": 5,
                  "slow_ema": 35,
                  "signal_ema": 9
                },
                "weight": 0.214
              }
            ],
            "neutral": [
              {
                "name": "ichimoku",
                "params": {
                  "conversion_period": 9,
                  "base_period": 35
                },
                "weight": 0.31
              },
              {
                "name": "williams_r",
                "params": {
                  "williams_period": 21,
                  "oversold": -80,
                  "overbought": -20
                },
                "weight": 0.269
              },
              {
                "name": "ema_sma_crossover",
                "params": {
                  "ema_period": 5,
                  "sma_period": 50
                },
                "weight": 0.212
              },
              {
                "name": "aroon_crossover",
                "params": {
                  "period": 14
                },
                "weight": 0.209
              }
            ]
          },
          "baseline_strategies": {
            "name": "elder_ray",
            "params": {
              "ema_period": 13,
              "bull_threshold": 0,
              "bear_threshold": -0.001
            },
            "weight": 0.2
          }
        },
        "depth": 0,
        "is_ensemble": true,
        "total_sub_strategies": 0,
        "unique_strategy_types": 0
      },
      "baseline_plus_regime_boosters_{'name': 'sma_crossover', 'params': {'fast_period': 19, 'slow_period': 15}, 'weight': 0.2}": {
        "type": "two_layer_ensemble",
        "name": "baseline_plus_regime_boosters_{'name': 'sma_crossover', 'params': {'fast_period': 19, 'slow_period': 15}, 'weight': 0.2}",
        "params": {
          "classifier_name": "market_regime_detector",
          "baseline_allocation": 0.6,
          "regime_allocation": 0.4,
          "regime_boosters": {
            "bull_ranging": [
              {
                "name": "roc_threshold",
                "params": {
                  "period": 5,
                  "threshold": 0.05
                },
                "weight": 0.369
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.243
              },
              {
                "name": "atr_channel_breakout",
                "params": {
                  "atr_period": 7,
                  "channel_period": 30,
                  "atr_multiplier": 1.5
                },
                "weight": 0.215
              },
              {
                "name": "mfi_bands",
                "params": {
                  "period": 7,
                  "oversold": 25,
                  "overbought": 85
                },
                "weight": 0.173
              }
            ],
            "bear_ranging": [
              {
                "name": "trendline_bounces",
                "params": {
                  "lookback": 5,
                  "min_touches": 2,
                  "threshold": 0.0005,
                  "strength": 0.1
                },
                "weight": 0.289
              },
              {
                "name": "tema_sma_crossover",
                "params": {
                  "tema_period": 5,
                  "sma_period": 23
                },
                "weight": 0.265
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.233
              },
              {
                "name": "macd_crossover",
                "params": {
                  "fast_ema": 5,
                  "slow_ema": 35,
                  "signal_ema": 9
                },
                "weight": 0.214
              }
            ],
            "neutral": [
              {
                "name": "ichimoku",
                "params": {
                  "conversion_period": 9,
                  "base_period": 35
                },
                "weight": 0.31
              },
              {
                "name": "williams_r",
                "params": {
                  "williams_period": 21,
                  "oversold": -80,
                  "overbought": -20
                },
                "weight": 0.269
              },
              {
                "name": "ema_sma_crossover",
                "params": {
                  "ema_period": 5,
                  "sma_period": 50
                },
                "weight": 0.212
              },
              {
                "name": "aroon_crossover",
                "params": {
                  "period": 14
                },
                "weight": 0.209
              }
            ]
          },
          "baseline_strategies": {
            "name": "sma_crossover",
            "params": {
              "fast_period": 19,
              "slow_period": 15
            },
            "weight": 0.2
          }
        },
        "depth": 0,
        "is_ensemble": true,
        "total_sub_strategies": 0,
        "unique_strategy_types": 0
      },
      "baseline_plus_regime_boosters_{'name': 'stochastic_crossover', 'params': {'k_period': 5, 'd_period': 7}, 'weight': 0.2}": {
        "type": "two_layer_ensemble",
        "name": "baseline_plus_regime_boosters_{'name': 'stochastic_crossover', 'params': {'k_period': 5, 'd_period': 7}, 'weight': 0.2}",
        "params": {
          "classifier_name": "market_regime_detector",
          "baseline_allocation": 0.6,
          "regime_allocation": 0.4,
          "regime_boosters": {
            "bull_ranging": [
              {
                "name": "roc_threshold",
                "params": {
                  "period": 5,
                  "threshold": 0.05
                },
                "weight": 0.369
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.243
              },
              {
                "name": "atr_channel_breakout",
                "params": {
                  "atr_period": 7,
                  "channel_period": 30,
                  "atr_multiplier": 1.5
                },
                "weight": 0.215
              },
              {
                "name": "mfi_bands",
                "params": {
                  "period": 7,
                  "oversold": 25,
                  "overbought": 85
                },
                "weight": 0.173
              }
            ],
            "bear_ranging": [
              {
                "name": "trendline_bounces",
                "params": {
                  "lookback": 5,
                  "min_touches": 2,
                  "threshold": 0.0005,
                  "strength": 0.1
                },
                "weight": 0.289
              },
              {
                "name": "tema_sma_crossover",
                "params": {
                  "tema_period": 5,
                  "sma_period": 23
                },
                "weight": 0.265
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.233
              },
              {
                "name": "macd_crossover",
                "params": {
                  "fast_ema": 5,
                  "slow_ema": 35,
                  "signal_ema": 9
                },
                "weight": 0.214
              }
            ],
            "neutral": [
              {
                "name": "ichimoku",
                "params": {
                  "conversion_period": 9,
                  "base_period": 35
                },
                "weight": 0.31
              },
              {
                "name": "williams_r",
                "params": {
                  "williams_period": 21,
                  "oversold": -80,
                  "overbought": -20
                },
                "weight": 0.269
              },
              {
                "name": "ema_sma_crossover",
                "params": {
                  "ema_period": 5,
                  "sma_period": 50
                },
                "weight": 0.212
              },
              {
                "name": "aroon_crossover",
                "params": {
                  "period": 14
                },
                "weight": 0.209
              }
            ]
          },
          "baseline_strategies": {
            "name": "stochastic_crossover",
            "params": {
              "k_period": 5,
              "d_period": 7
            },
            "weight": 0.2
          }
        },
        "depth": 0,
        "is_ensemble": true,
        "total_sub_strategies": 0,
        "unique_strategy_types": 0
      },
      "baseline_plus_regime_boosters_{'name': 'pivot_channel_bounces', 'params': {'sr_period': 15, 'min_touches': 2, 'bounce_threshold': 0.001}, 'weight': 0.2}": {
        "type": "two_layer_ensemble",
        "name": "baseline_plus_regime_boosters_{'name': 'pivot_channel_bounces', 'params': {'sr_period': 15, 'min_touches': 2, 'bounce_threshold': 0.001}, 'weight': 0.2}",
        "params": {
          "classifier_name": "market_regime_detector",
          "baseline_allocation": 0.6,
          "regime_allocation": 0.4,
          "regime_boosters": {
            "bull_ranging": [
              {
                "name": "roc_threshold",
                "params": {
                  "period": 5,
                  "threshold": 0.05
                },
                "weight": 0.369
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.243
              },
              {
                "name": "atr_channel_breakout",
                "params": {
                  "atr_period": 7,
                  "channel_period": 30,
                  "atr_multiplier": 1.5
                },
                "weight": 0.215
              },
              {
                "name": "mfi_bands",
                "params": {
                  "period": 7,
                  "oversold": 25,
                  "overbought": 85
                },
                "weight": 0.173
              }
            ],
            "bear_ranging": [
              {
                "name": "trendline_bounces",
                "params": {
                  "lookback": 5,
                  "min_touches": 2,
                  "threshold": 0.0005,
                  "strength": 0.1
                },
                "weight": 0.289
              },
              {
                "name": "tema_sma_crossover",
                "params": {
                  "tema_period": 5,
                  "sma_period": 23
                },
                "weight": 0.265
              },
              {
                "name": "rsi_threshold",
                "params": {
                  "period": 27,
                  "threshold": 50
                },
                "weight": 0.233
              },
              {
                "name": "macd_crossover",
                "params": {
                  "fast_ema": 5,
                  "slow_ema": 35,
                  "signal_ema": 9
                },
                "weight": 0.214
              }
            ],
            "neutral": [
              {
                "name": "ichimoku",
                "params": {
                  "conversion_period": 9,
                  "base_period": 35
                },
                "weight": 0.31
              },
              {
                "name": "williams_r",
                "params": {
                  "williams_period": 21,
                  "oversold": -80,
                  "overbought": -20
                },
                "weight": 0.269
              },
              {
                "name": "ema_sma_crossover",
                "params": {
                  "ema_period": 5,
                  "sma_period": 50
                },
                "weight": 0.212
              },
              {
                "name": "aroon_crossover",
                "params": {
                  "period": 14
                },
                "weight": 0.209
              }
            ]
          },
          "baseline_strategies": {
            "name": "pivot_channel_bounces",
            "params": {
              "sr_period": 15,
              "min_touches": 2,
              "bounce_threshold": 0.001
            },
            "weight": 0.2
          }
        },
        "depth": 0,
        "is_ensemble": true,
        "total_sub_strategies": 0,
        "unique_strategy_types": 0
      }
    },
    "classifiers": {
      "market_regime_detector": {
        "type": "market_regime_classifier",
        "name": "market_regime_detector",
        "params": {
          "trend_sma_period": 50,
          "trend_threshold": 0.006,
          "bull_bear_sma_period": 12,
          "volatility_period": 20,
          "volatility_threshold": 1.5
        }
      }
    },
    "summary": {
      "total_strategies": 5,
      "total_ensemble_strategies": 5,
      "total_leaf_strategies": 0,
      "max_nesting_depth": 0
    }
  }
}