2025-06-02 16:30:44,246 - __main__ - INFO - Event-specific logging enabled from config for: SIGNAL, ORDER, FILL, PORTFOLIO, TRADE_LOOP
2025-06-02 16:30:44,246 - __main__ - INFO - Using new composable container system
2025-06-02 16:30:44,246 - src.core.coordinator.coordinator - INFO - Coordinator initialized (composable: True, communication: True)
2025-06-02 16:30:44,246 - src.core.coordinator.coordinator - INFO - Executing workflow d210d674-7edf-45cf-a335-999f5d05b169 in composable mode
2025-06-02 16:30:44,575 - src.core.containers.composition_engine - INFO - Registered container type: backtest
2025-06-02 16:30:44,575 - src.core.containers.composition_engine - INFO - Registered container type: data
2025-06-02 16:30:44,575 - src.core.containers.composition_engine - INFO - Registered container type: indicator
2025-06-02 16:30:44,575 - src.core.containers.composition_engine - INFO - Registered container type: strategy
2025-06-02 16:30:44,575 - src.core.containers.composition_engine - INFO - Registered container type: execution
2025-06-02 16:30:44,575 - src.core.containers.composition_engine - INFO - Registered container type: risk
2025-06-02 16:30:44,575 - src.core.containers.composition_engine - INFO - Registered container type: portfolio
2025-06-02 16:30:44,575 - src.execution.containers_pipeline - INFO - Execution containers registered with composition engine
2025-06-02 16:30:44,575 - src.core.coordinator.coordinator - INFO - Pipeline-enabled containers registered with composition engine
2025-06-02 16:30:44,580 - src.core.coordinator.coordinator - INFO - Communication layer setup complete with 1 adapters
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Executing backtest workflow with composable containers and pipeline communication
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Found 2 strategies from config
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO -   Strategy 1: {'name': 'momentum_strategy', 'type': 'momentum', 'enabled': True, 'allocation': 0.6, 'weight': 1.0, 'parameters': {'lookback_period': 20, 'rsi_period': 14, 'rsi_oversold': 40, 'rsi_overbought': 60, 'momentum_threshold': 0.0001, 'signal_cooldown': 60}}
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO -   Strategy 2: {'name': 'mean_reversion_strategy', 'type': 'mean_reversion', 'enabled': True, 'allocation': 0.4, 'weight': 0.8, 'parameters': {'lookback_period': 15, 'entry_threshold': 0.8, 'exit_threshold': 0.2}}
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Configured multi-strategy with 2 strategies
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Inferred 3 indicators from strategies: {'SMA_20', 'RSI', 'BB_15'}
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Added risk config to simple_backtest: {'initial_capital': 100000, 'position_sizers': [{'name': 'fixed_size', 'type': 'fixed', 'size': 1000}], 'limits': [{'type': 'position', 'max_position': 5000}, {'type': 'exposure', 'max_exposure_pct': 80}]}
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Added portfolio config to simple_backtest: {'initial_capital': 100000}
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Creating custom simple_backtest structure without classifier
2025-06-02 16:30:44,580 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child 31373cd8-78a5-4e4e-aa84-8424abc70988 to e744fd32-9555-4b78-a8e3-1cac7fc3d631 (internal communication setup)
2025-06-02 16:30:44,580 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child 5f0f1533-0cb3-4810-934b-280aba033664 to e744fd32-9555-4b78-a8e3-1cac7fc3d631 (internal communication setup)
2025-06-02 16:30:44,580 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child d13539b4-7741-42d8-964e-64621955b142 to e744fd32-9555-4b78-a8e3-1cac7fc3d631 (internal communication setup)
2025-06-02 16:30:44,580 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child 81360049-e829-4c79-b888-89d4b7396a71 to d13539b4-7741-42d8-964e-64621955b142 (internal communication setup)
2025-06-02 16:30:44,580 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child 0868611f-2f5e-4b50-adf9-a72cd88d8c43 to 81360049-e829-4c79-b888-89d4b7396a71 (internal communication setup)
2025-06-02 16:30:44,580 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child abddd122-2cfc-490a-a302-b3706c02b6d7 to e744fd32-9555-4b78-a8e3-1cac7fc3d631 (internal communication setup)
2025-06-02 16:30:44,580 - src.core.containers.composition_engine - INFO - Composed custom pattern with root container: e744fd32-9555-4b78-a8e3-1cac7fc3d631
2025-06-02 16:30:44,580 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Pipeline order: ['DataContainer', 'IndicatorContainer', 'StrategyContainer', 'PortfolioContainer', 'RiskContainer', 'ExecutionContainer']
2025-06-02 16:30:44,581 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Updated pipeline adapter with 6 containers
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - BacktestContainer initialized
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - DataContainer config: {'source': 'csv', 'file_path': 'data/SPY_1m.csv', 'symbols': ['SPY'], 'max_bars': 50}
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - Using specific file path: data/SPY_1m.csv
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - DataContainer initialized with csv data source
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - IndicatorContainer config: {'indicators': ['SMA_20', 'RSI', 'BB_15']}
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - Initializing IndicatorContainer with config-inferred indicators: ['SMA_20', 'RSI', 'BB_15']
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - Created indicator config: SMA_20 (IndicatorType.TREND)
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - Created indicator config: RSI (IndicatorType.MOMENTUM)
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - Created indicator config: BB_15 (IndicatorType.VOLATILITY)
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - IndicatorContainer initialized with 3 indicator configs
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - RiskContainer initialized with position sizing and risk limits
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - PortfolioContainer initialized with capital: $100000
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer published PORTFOLIO update
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - Initializing 2 strategies as sub-containers
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - StrategyContainer initialized with momentum strategy
2025-06-02 16:30:44,581 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child 0868611f-2f5e-4b50-adf9-a72cd88d8c43_momentum_strategy to 0868611f-2f5e-4b50-adf9-a72cd88d8c43 (internal communication setup)
2025-06-02 16:30:44,581 - src.execution.containers_pipeline - INFO - Created strategy sub-container: momentum_strategy with type: momentum
2025-06-02 16:30:44,582 - src.strategy.strategies.mean_reversion_simple - INFO - MeanReversionStrategy initialized with period=15, entry=0.8, exit=0.2
2025-06-02 16:30:44,582 - src.execution.containers_pipeline - INFO - StrategyContainer initialized with mean_reversion strategy
2025-06-02 16:30:44,582 - src.core.events.hybrid_interface - INFO - ğŸ“¨ Added child 0868611f-2f5e-4b50-adf9-a72cd88d8c43_mean_reversion_strategy to 0868611f-2f5e-4b50-adf9-a72cd88d8c43 (internal communication setup)
2025-06-02 16:30:44,582 - src.execution.containers_pipeline - INFO - Created strategy sub-container: mean_reversion_strategy with type: mean_reversion
2025-06-02 16:30:44,582 - src.execution.containers_pipeline - INFO - StrategyContainer initialized with momentum strategy
2025-06-02 16:30:44,582 - src.strategy.strategies.mean_reversion_simple - INFO - MeanReversionStrategy initialized with period=15, entry=0.8, exit=0.2
2025-06-02 16:30:44,582 - src.execution.containers_pipeline - INFO - StrategyContainer initialized with mean_reversion strategy
2025-06-02 16:30:44,583 - src.execution.improved_market_simulation - INFO - ImprovedMarketSimulator created - ID: MarketSim_abddd122-2cfc-490a-a302-b3706c02b6d7
2025-06-02 16:30:44,583 - src.execution.backtest_broker_refactored - INFO - Initialized BacktestBroker with portfolio state, initial_capital=100000
2025-06-02 16:30:44,586 - src.core.dependencies.container - INFO - Created scoped container: backtest_portfolio
2025-06-02 16:30:44,586 - src.core.events.isolation - INFO - Created isolated event bus for container: backtest_portfolio
2025-06-02 16:30:44,586 - src.core.containers.universal - INFO - Created UniversalScopedContainer: backtest_portfolio
2025-06-02 16:30:44,586 - src.execution.backtest_broker_refactored - INFO - Initialized BacktestBroker with portfolio state, initial_capital=100000
2025-06-02 16:30:44,586 - src.execution.market_simulation - INFO - Initialized MarketSimulator
2025-06-02 16:30:44,586 - src.execution.order_manager - INFO - Initialized OrderManager
2025-06-02 16:30:44,586 - src.execution.execution_context - INFO - Initialized ExecutionContext
2025-06-02 16:30:44,586 - src.execution.execution_engine - INFO - Initialized DefaultExecutionEngine
2025-06-02 16:30:44,586 - src.execution.containers_pipeline - INFO - ExecutionContainer initialized with backtest engine
2025-06-02 16:30:44,586 - src.execution.containers_pipeline - INFO - BacktestContainer started - managing peer containers
2025-06-02 16:30:44,586 - src.execution.containers_pipeline - INFO - ğŸ“Š RiskContainer cached updated portfolio state
2025-06-02 16:30:44,586 - src.execution.containers_pipeline - INFO - Starting data streaming
2025-06-02 16:30:44,586 - src.execution.containers_pipeline - INFO - Loading data for SPY
2025-06-02 16:30:45,107 - src.execution.containers_pipeline - INFO - Loaded 102236 rows for SPY
2025-06-02 16:30:45,108 - src.execution.containers_pipeline - INFO - Date range: 2024-03-26 13:30:00+00:00 to 2025-04-02 19:23:00+00:00
2025-06-02 16:30:45,108 - src.execution.containers_pipeline - INFO - Limited to 50 bars as requested
2025-06-02 16:30:45,108 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,108 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,108 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:30:00+00:00 - Price: 521.0100
2025-06-02 16:30:45,110 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,110 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,110 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:31:00+00:00 - Price: 521.0700
2025-06-02 16:30:45,111 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,111 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,111 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:32:00+00:00 - Price: 521.2200
2025-06-02 16:30:45,112 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,112 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,112 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:33:00+00:00 - Price: 521.2896
2025-06-02 16:30:45,113 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,113 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,113 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:34:00+00:00 - Price: 521.3600
2025-06-02 16:30:45,115 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,115 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,115 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:35:00+00:00 - Price: 521.1297
2025-06-02 16:30:45,116 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,116 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,116 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:36:00+00:00 - Price: 521.1200
2025-06-02 16:30:45,117 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,117 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,117 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:37:00+00:00 - Price: 521.2500
2025-06-02 16:30:45,118 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,118 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,118 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:38:00+00:00 - Price: 521.0200
2025-06-02 16:30:45,120 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,120 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,120 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:39:00+00:00 - Price: 521.0900
2025-06-02 16:30:45,121 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,121 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,121 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:40:00+00:00 - Price: 521.0200
2025-06-02 16:30:45,122 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,122 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,122 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:41:00+00:00 - Price: 520.8522
2025-06-02 16:30:45,123 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,123 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,123 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:42:00+00:00 - Price: 520.8950
2025-06-02 16:30:45,125 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,125 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,125 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:43:00+00:00 - Price: 521.0850
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:44:00+00:00 - Price: 521.1550
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 54.6456
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.37, middle=521.10, lower=520.84, bandwidth=0.00}
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:44:00+00:00
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,126 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,127 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,127 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,127 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'RSI': np.float64(54.64564910931628), 'BB_15': {'upper': np.float64(521.3727690799064), 'middle': np.float64(521.1044333333334), 'lower': np.float64(520.8360975867604), 'bandwidth': np.float64(0.0010298732054783493)}}}
2025-06-02 16:30:45,127 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:44:00+00:00
2025-06-02 16:30:45,127 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.08, 'high': 521.2084, 'low': 521.05, 'close': 521.155, 'volume': 169200.0}
2025-06-02 16:30:45,127 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.155
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'RSI': np.float64(54.64564910931628), 'BB_15': {'upper': np.float64(521.3727690799064), 'middle': np.float64(521.1044333333334), 'lower': np.float64(520.8360975867604), 'bandwidth': np.float64(0.0010298732054783493)}}}
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:44:00+00:00
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.08, 'high': 521.2084, 'low': 521.05, 'close': 521.155, 'volume': 169200.0}
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.155
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.37, middle=521.10, lower=520.84
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 54.64564910931628
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.38
2025-06-02 16:30:45,127 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:45:00+00:00 - Price: 521.0660
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 49.8742
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.37, middle=521.11, lower=520.84, bandwidth=0.00}
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:45:00+00:00
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,127 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,128 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,128 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,128 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'RSI': np.float64(49.87418218419668), 'BB_15': {'upper': np.float64(521.3726740948335), 'middle': np.float64(521.1081666666665), 'lower': np.float64(520.8436592384995), 'bandwidth': np.float64(0.0010151728377584578)}}}
2025-06-02 16:30:45,128 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:45:00+00:00
2025-06-02 16:30:45,128 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.165, 'high': 521.28, 'low': 521.066, 'close': 521.066, 'volume': 114550.0}
2025-06-02 16:30:45,128 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.066
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'RSI': np.float64(49.87418218419668), 'BB_15': {'upper': np.float64(521.3726740948335), 'middle': np.float64(521.1081666666665), 'lower': np.float64(520.8436592384995), 'bandwidth': np.float64(0.0010151728377584578)}}}
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:45:00+00:00
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.165, 'high': 521.28, 'low': 521.066, 'close': 521.066, 'volume': 114550.0}
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.066
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.37, middle=521.11, lower=520.84
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 49.87418218419668
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -0.32
2025-06-02 16:30:45,128 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:46:00+00:00 - Price: 521.1100
2025-06-02 16:30:45,128 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 46.2928
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.37, middle=521.11, lower=520.85, bandwidth=0.00}
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:46:00+00:00
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,129 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,129 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,129 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'RSI': np.float64(46.29280129414868), 'BB_15': {'upper': np.float64(521.3745532217671), 'middle': np.float64(521.1108333333333), 'lower': np.float64(520.8471134448995), 'bandwidth': np.float64(0.0010121451006762545)}}}
2025-06-02 16:30:45,129 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:46:00+00:00
2025-06-02 16:30:45,129 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.07, 'high': 521.23, 'low': 521.07, 'close': 521.11, 'volume': 66036.0}
2025-06-02 16:30:45,129 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.11
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'RSI': np.float64(46.29280129414868), 'BB_15': {'upper': np.float64(521.3745532217671), 'middle': np.float64(521.1108333333333), 'lower': np.float64(520.8471134448995), 'bandwidth': np.float64(0.0010121451006762545)}}}
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:46:00+00:00
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.07, 'high': 521.23, 'low': 521.07, 'close': 521.11, 'volume': 66036.0}
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.11
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.37, middle=521.11, lower=520.85
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 46.29280129414868
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -0.01
2025-06-02 16:30:45,129 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,129 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:47:00+00:00 - Price: 521.0900
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 43.0404
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.36, middle=521.10, lower=520.84, bandwidth=0.00}
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:47:00+00:00
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,130 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,130 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,130 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'RSI': np.float64(43.04044630404732), 'BB_15': {'upper': np.float64(521.3594321188535), 'middle': np.float64(521.1021666666667), 'lower': np.float64(520.8449012144798), 'bandwidth': np.float64(0.0009873896853373498)}}}
2025-06-02 16:30:45,130 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:47:00+00:00
2025-06-02 16:30:45,130 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.1, 'high': 521.18, 'low': 521.07, 'close': 521.09, 'volume': 114040.0}
2025-06-02 16:30:45,130 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.09
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'RSI': np.float64(43.04044630404732), 'BB_15': {'upper': np.float64(521.3594321188535), 'middle': np.float64(521.1021666666667), 'lower': np.float64(520.8449012144798), 'bandwidth': np.float64(0.0009873896853373498)}}}
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:47:00+00:00
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.1, 'high': 521.18, 'low': 521.07, 'close': 521.09, 'volume': 114040.0}
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.09
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.36, middle=521.10, lower=520.84
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 43.04044630404732
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -0.09
2025-06-02 16:30:45,130 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,130 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:48:00+00:00 - Price: 521.1700
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 43.4192
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.33, middle=521.09, lower=520.85, bandwidth=0.00}
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:48:00+00:00
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,131 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,131 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,131 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'RSI': np.float64(43.41922970351632), 'BB_15': {'upper': np.float64(521.3345886573773), 'middle': np.float64(521.0941933333332), 'lower': np.float64(520.8537980092892), 'bandwidth': np.float64(0.0009226559309987228)}}}
2025-06-02 16:30:45,131 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:48:00+00:00
2025-06-02 16:30:45,131 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.095, 'high': 521.175, 'low': 521.07, 'close': 521.17, 'volume': 67113.0}
2025-06-02 16:30:45,131 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.17
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'RSI': np.float64(43.41922970351632), 'BB_15': {'upper': np.float64(521.3345886573773), 'middle': np.float64(521.0941933333332), 'lower': np.float64(520.8537980092892), 'bandwidth': np.float64(0.0009226559309987228)}}}
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:48:00+00:00
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.095, 'high': 521.175, 'low': 521.07, 'close': 521.17, 'volume': 67113.0}
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.17
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.33, middle=521.09, lower=520.85
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 43.41922970351632
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.63
2025-06-02 16:30:45,131 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,131 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:49:00+00:00 - Price: 521.1900
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1096
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 52.4447
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.29, middle=521.08, lower=520.88, bandwidth=0.00}
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:49:00+00:00
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,132 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,132 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,132 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.109625), 'RSI': np.float64(52.44466066650871), 'BB_15': {'upper': np.float64(521.2850554407662), 'middle': np.float64(521.08286), 'lower': np.float64(520.8806645592338), 'bandwidth': np.float64(0.0007760586896535623)}}}
2025-06-02 16:30:45,132 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:49:00+00:00
2025-06-02 16:30:45,132 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.16, 'high': 521.2099, 'low': 521.106, 'close': 521.19, 'volume': 49709.0}
2025-06-02 16:30:45,132 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.19
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.109625), 'RSI': np.float64(52.44466066650871), 'BB_15': {'upper': np.float64(521.2850554407662), 'middle': np.float64(521.08286), 'lower': np.float64(520.8806645592338), 'bandwidth': np.float64(0.0007760586896535623)}}}
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:49:00+00:00
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.16, 'high': 521.2099, 'low': 521.106, 'close': 521.19, 'volume': 49709.0}
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.19
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.29, middle=521.08, lower=520.88
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 52.44466066650871
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.06
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.06, RSI=52.44466066650871
2025-06-02 16:30:45,132 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,132 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-a8dde728
2025-06-02 16:30:45,133 - src.execution.order_manager - INFO - Order submitted: ORD-a8dde728
2025-06-02 16:30:45,133 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,133 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-a8dde728, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    Broker order ID: ORD-a8dde728
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-a8dde728
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Fill probability check: 0.662 vs 0.95
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,133 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,133 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 60aa1d77-a50c-4bb1-ba3c-7ddf30d32c7f, order: ORD-a8dde728, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,133 - src.execution.order_manager - INFO - Order ORD-a8dde728 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,133 - src.execution.order_manager - INFO - Fill added to order ORD-a8dde728: 1.0 @ 99.95
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,133 - src.execution.execution_engine - INFO - Order executed: ORD-a8dde728 - Fill: 60aa1d77-a50c-4bb1-ba3c-7ddf30d32c7f
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-a8dde728
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,133 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:50:00+00:00 - Price: 521.2150
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1199
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 53.8043
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.30, middle=521.09, lower=520.88, bandwidth=0.00}
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:50:00+00:00
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,134 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,134 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,134 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1198750000001), 'RSI': np.float64(53.80426077206612), 'BB_15': {'upper': np.float64(521.3002654470229), 'middle': np.float64(521.0885466666666), 'lower': np.float64(520.8768278863104), 'bandwidth': np.float64(0.0008126019338196134)}}}
2025-06-02 16:30:45,134 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:50:00+00:00
2025-06-02 16:30:45,134 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.19, 'high': 521.25, 'low': 521.14, 'close': 521.215, 'volume': 65501.0}
2025-06-02 16:30:45,134 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.215
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1198750000001), 'RSI': np.float64(53.80426077206612), 'BB_15': {'upper': np.float64(521.3002654470229), 'middle': np.float64(521.0885466666666), 'lower': np.float64(520.8768278863104), 'bandwidth': np.float64(0.0008126019338196134)}}}
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:50:00+00:00
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.19, 'high': 521.25, 'low': 521.14, 'close': 521.215, 'volume': 65501.0}
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.215
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.30, middle=521.09, lower=520.88
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 53.80426077206612
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.19
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.19, RSI=53.80426077206612
2025-06-02 16:30:45,134 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,134 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,134 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-45c0a36d
2025-06-02 16:30:45,134 - src.execution.order_manager - INFO - Order submitted: ORD-45c0a36d
2025-06-02 16:30:45,134 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,134 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-45c0a36d, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,134 - src.execution.execution_engine - INFO -    Broker order ID: ORD-45c0a36d
2025-06-02 16:30:45,134 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,134 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,134 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-45c0a36d
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Fill probability check: 0.476 vs 0.95
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,134 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,134 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 083d9d81-7416-45f7-8698-4b40ccfc21ba, order: ORD-45c0a36d, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,134 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,135 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,135 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,135 - src.execution.order_manager - INFO - Order ORD-45c0a36d status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,135 - src.execution.order_manager - INFO - Fill added to order ORD-45c0a36d: 1.0 @ 99.95
2025-06-02 16:30:45,135 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,135 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,135 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,135 - src.execution.execution_engine - INFO - Order executed: ORD-45c0a36d - Fill: 083d9d81-7416-45f7-8698-4b40ccfc21ba
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-45c0a36d
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:51:00+00:00 - Price: 521.0800
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1204
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 43.2195
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.30, middle=521.09, lower=520.87, bandwidth=0.00}
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:51:00+00:00
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,135 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,135 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,135 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1203750000002), 'RSI': np.float64(43.2195277600521), 'BB_15': {'upper': np.float64(521.2969535884315), 'middle': np.float64(521.0858800000001), 'lower': np.float64(520.8748064115687), 'bandwidth': np.float64(0.0008101297560834352)}}}
2025-06-02 16:30:45,135 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:51:00+00:00
2025-06-02 16:30:45,135 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.225, 'high': 521.225, 'low': 521.05, 'close': 521.08, 'volume': 66797.0}
2025-06-02 16:30:45,135 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.08
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1203750000002), 'RSI': np.float64(43.2195277600521), 'BB_15': {'upper': np.float64(521.2969535884315), 'middle': np.float64(521.0858800000001), 'lower': np.float64(520.8748064115687), 'bandwidth': np.float64(0.0008101297560834352)}}}
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:51:00+00:00
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.225, 'high': 521.225, 'low': 521.05, 'close': 521.08, 'volume': 66797.0}
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.08
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.30, middle=521.09, lower=520.87
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 43.2195277600521
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -0.06
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO -    âšª EXIT signal: z_score=-0.06
2025-06-02 16:30:45,135 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,135 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 0.80) - Price returned to mean
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-7e7b2475
2025-06-02 16:30:45,136 - src.execution.order_manager - INFO - Order submitted: ORD-7e7b2475
2025-06-02 16:30:45,136 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-7e7b2475, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    Broker order ID: ORD-7e7b2475
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-7e7b2475
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Fill probability check: 0.893 vs 0.95
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,136 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,136 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 28ccd360-a79a-4442-a8db-bc668c6a7e2d, order: ORD-7e7b2475, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,136 - src.execution.order_manager - INFO - Order ORD-7e7b2475 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,136 - src.execution.order_manager - INFO - Fill added to order ORD-7e7b2475: 1.0 @ 100.05
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,136 - src.execution.execution_engine - INFO - Order executed: ORD-7e7b2475 - Fill: 28ccd360-a79a-4442-a8db-bc668c6a7e2d
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-7e7b2475
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:52:00+00:00 - Price: 521.1200
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1154
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 54.7010
2025-06-02 16:30:45,136 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.27, middle=521.08, lower=520.88, bandwidth=0.00}
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:52:00+00:00
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,137 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,137 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,137 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1153750000001), 'RSI': np.float64(54.70101541933236), 'BB_15': {'upper': np.float64(521.2705505912246), 'middle': np.float64(521.0772133333334), 'lower': np.float64(520.8838760754421), 'bandwidth': np.float64(0.0007420675974465505)}}}
2025-06-02 16:30:45,137 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:52:00+00:00
2025-06-02 16:30:45,137 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.0776, 'high': 521.2, 'low': 521.065, 'close': 521.12, 'volume': 62975.0}
2025-06-02 16:30:45,137 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.12
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1153750000001), 'RSI': np.float64(54.70101541933236), 'BB_15': {'upper': np.float64(521.2705505912246), 'middle': np.float64(521.0772133333334), 'lower': np.float64(520.8838760754421), 'bandwidth': np.float64(0.0007420675974465505)}}}
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:52:00+00:00
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.0776, 'high': 521.2, 'low': 521.065, 'close': 521.12, 'volume': 62975.0}
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.12
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.27, middle=521.08, lower=520.88
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 54.70101541933236
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.44
2025-06-02 16:30:45,137 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,137 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:53:00+00:00 - Price: 521.0069
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1012
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 46.2456
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.27, middle=521.08, lower=520.88, bandwidth=0.00}
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:53:00+00:00
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,138 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,138 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,138 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1012400000002), 'RSI': np.float64(46.24559501219517), 'BB_15': {'upper': np.float64(521.2708181159926), 'middle': np.float64(521.0763400000001), 'lower': np.float64(520.8818618840075), 'bandwidth': np.float64(0.0007464476932210162)}}}
2025-06-02 16:30:45,138 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:53:00+00:00
2025-06-02 16:30:45,138 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.13, 'high': 521.155, 'low': 521.005, 'close': 521.0069, 'volume': 57340.0}
2025-06-02 16:30:45,138 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.0069
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1012400000002), 'RSI': np.float64(46.24559501219517), 'BB_15': {'upper': np.float64(521.2708181159926), 'middle': np.float64(521.0763400000001), 'lower': np.float64(520.8818618840075), 'bandwidth': np.float64(0.0007464476932210162)}}}
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:53:00+00:00
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.13, 'high': 521.155, 'low': 521.005, 'close': 521.0069, 'volume': 57340.0}
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.0069
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.27, middle=521.08, lower=520.88
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 46.24559501219517
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -0.71
2025-06-02 16:30:45,138 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,138 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:54:00+00:00 - Price: 520.9550
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.0810
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 47.0145
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.27, middle=521.07, lower=520.86, bandwidth=0.00}
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:54:00+00:00
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,139 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,139 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,139 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.0809900000002), 'RSI': np.float64(47.01451405475111), 'BB_15': {'upper': np.float64(521.2707465328351), 'middle': np.float64(521.0673400000001), 'lower': np.float64(520.863933467165), 'bandwidth': np.float64(0.0007807303095799803)}}}
2025-06-02 16:30:45,139 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:54:00+00:00
2025-06-02 16:30:45,139 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.01, 'high': 521.01, 'low': 520.89, 'close': 520.955, 'volume': 98023.0}
2025-06-02 16:30:45,139 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 520.955
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.0809900000002), 'RSI': np.float64(47.01451405475111), 'BB_15': {'upper': np.float64(521.2707465328351), 'middle': np.float64(521.0673400000001), 'lower': np.float64(520.863933467165), 'bandwidth': np.float64(0.0007807303095799803)}}}
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:54:00+00:00
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.01, 'high': 521.01, 'low': 520.89, 'close': 520.955, 'volume': 98023.0}
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 520.955
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.27, middle=521.07, lower=520.86
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 47.01451405475111
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -1.10
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸŸ¢ BUY signal: z_score=-1.10, RSI=47.01451405475111
2025-06-02 16:30:45,139 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Price below lower band - oversold
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,139 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,139 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-7efce2f4
2025-06-02 16:30:45,139 - src.execution.order_manager - INFO - Order submitted: ORD-7efce2f4
2025-06-02 16:30:45,139 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-7efce2f4, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,139 - src.execution.execution_engine - INFO -    Broker order ID: ORD-7efce2f4
2025-06-02 16:30:45,139 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,139 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,139 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,139 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-7efce2f4
2025-06-02 16:30:45,139 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,139 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO -    Fill probability check: 0.555 vs 0.95
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,140 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,140 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: e8ecec15-4fc0-497c-841f-e2741a02dafd, order: ORD-7efce2f4, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,140 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,140 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,140 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,140 - src.execution.order_manager - INFO - Order ORD-7efce2f4 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,140 - src.execution.order_manager - INFO - Fill added to order ORD-7efce2f4: 1.0 @ 100.05
2025-06-02 16:30:45,140 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,140 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,140 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,140 - src.execution.execution_engine - INFO - Order executed: ORD-7efce2f4 - Fill: e8ecec15-4fc0-497c-841f-e2741a02dafd
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-7efce2f4
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:55:00+00:00 - Price: 521.0400
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.0765
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 59.3359
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.27, middle=521.07, lower=520.87, bandwidth=0.00}
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:55:00+00:00
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,140 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,140 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,140 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.0765050000002), 'RSI': np.float64(59.33585205806245), 'BB_15': {'upper': np.float64(521.2710808755731), 'middle': np.float64(521.0686733333333), 'lower': np.float64(520.8662657910935), 'bandwidth': np.float64(0.0007768939205075395)}}}
2025-06-02 16:30:45,140 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:55:00+00:00
2025-06-02 16:30:45,140 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 520.95, 'high': 521.055, 'low': 520.92, 'close': 521.04, 'volume': 99971.0}
2025-06-02 16:30:45,140 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.04
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.0765050000002), 'RSI': np.float64(59.33585205806245), 'BB_15': {'upper': np.float64(521.2710808755731), 'middle': np.float64(521.0686733333333), 'lower': np.float64(520.8662657910935), 'bandwidth': np.float64(0.0007768939205075395)}}}
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:55:00+00:00
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 520.95, 'high': 521.055, 'low': 520.92, 'close': 521.04, 'volume': 99971.0}
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.04
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.27, middle=521.07, lower=520.87
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 59.33585205806245
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -0.28
2025-06-02 16:30:45,140 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,140 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:56:00+00:00 - Price: 521.1450
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.0778
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 61.7041
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.26, middle=521.09, lower=520.92, bandwidth=0.00}
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:56:00+00:00
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,141 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,142 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,142 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,142 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.077755), 'RSI': np.float64(61.70411985018994), 'BB_15': {'upper': np.float64(521.2570188048187), 'middle': np.float64(521.0881933333334), 'lower': np.float64(520.9193678618481), 'bandwidth': np.float64(0.0006479727372263743)}}}
2025-06-02 16:30:45,142 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:56:00+00:00
2025-06-02 16:30:45,142 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.035, 'high': 521.1674, 'low': 521.01, 'close': 521.145, 'volume': 77001.0}
2025-06-02 16:30:45,142 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.145
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.077755), 'RSI': np.float64(61.70411985018994), 'BB_15': {'upper': np.float64(521.2570188048187), 'middle': np.float64(521.0881933333334), 'lower': np.float64(520.9193678618481), 'bandwidth': np.float64(0.0006479727372263743)}}}
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:56:00+00:00
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.035, 'high': 521.1674, 'low': 521.01, 'close': 521.145, 'volume': 77001.0}
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.145
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.26, middle=521.09, lower=520.92
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 61.70411985018994
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.67
2025-06-02 16:30:45,142 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,142 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:57:00+00:00 - Price: 521.1250
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.0715
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 52.2272
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.24, middle=521.10, lower=520.97, bandwidth=0.00}
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:57:00+00:00
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,143 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,143 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,143 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.0715050000001), 'RSI': np.float64(52.22717149220365), 'BB_15': {'upper': np.float64(521.2375784470436), 'middle': np.float64(521.1035266666667), 'lower': np.float64(520.9694748862897), 'bandwidth': np.float64(0.0005144919330498709)}}}
2025-06-02 16:30:45,143 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:57:00+00:00
2025-06-02 16:30:45,143 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.145, 'high': 521.205, 'low': 521.11, 'close': 521.125, 'volume': 40838.0}
2025-06-02 16:30:45,143 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.125
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.0715050000001), 'RSI': np.float64(52.22717149220365), 'BB_15': {'upper': np.float64(521.2375784470436), 'middle': np.float64(521.1035266666667), 'lower': np.float64(520.9694748862897), 'bandwidth': np.float64(0.0005144919330498709)}}}
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:57:00+00:00
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.145, 'high': 521.205, 'low': 521.11, 'close': 521.125, 'volume': 40838.0}
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.125
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.24, middle=521.10, lower=520.97
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 52.22717149220365
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.32
2025-06-02 16:30:45,143 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,143 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:58:00+00:00 - Price: 521.1400
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.0775
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 49.1103
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.24, middle=521.11, lower=520.97, bandwidth=0.00}
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:58:00+00:00
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,144 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,144 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,144 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.077505), 'RSI': np.float64(49.110320284698034), 'BB_15': {'upper': np.float64(521.2420240413426), 'middle': np.float64(521.1071933333335), 'lower': np.float64(520.9723626253244), 'bandwidth': np.float64(0.0005174778231196039)}}}
2025-06-02 16:30:45,144 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:58:00+00:00
2025-06-02 16:30:45,144 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.125, 'high': 521.175, 'low': 521.11, 'close': 521.14, 'volume': 139196.0}
2025-06-02 16:30:45,144 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.14
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.077505), 'RSI': np.float64(49.110320284698034), 'BB_15': {'upper': np.float64(521.2420240413426), 'middle': np.float64(521.1071933333335), 'lower': np.float64(520.9723626253244), 'bandwidth': np.float64(0.0005174778231196039)}}}
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:58:00+00:00
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.125, 'high': 521.175, 'low': 521.11, 'close': 521.14, 'volume': 139196.0}
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.14
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.24, middle=521.11, lower=520.97
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 49.110320284698034
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.49
2025-06-02 16:30:45,144 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,144 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 13:59:00+00:00 - Price: 521.2500
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.0855
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 60.6481
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.26, middle=521.11, lower=520.96, bandwidth=0.00}
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 13:59:00+00:00
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,145 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,145 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,145 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.085505), 'RSI': np.float64(60.648148148148756), 'BB_15': {'upper': np.float64(521.264681377109), 'middle': np.float64(521.1135266666668), 'lower': np.float64(520.9623719562245), 'bandwidth': np.float64(0.0005801219991703044)}}}
2025-06-02 16:30:45,145 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 13:59:00+00:00
2025-06-02 16:30:45,145 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.16, 'high': 521.27, 'low': 521.16, 'close': 521.25, 'volume': 89254.0}
2025-06-02 16:30:45,145 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.25
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.085505), 'RSI': np.float64(60.648148148148756), 'BB_15': {'upper': np.float64(521.264681377109), 'middle': np.float64(521.1135266666668), 'lower': np.float64(520.9623719562245), 'bandwidth': np.float64(0.0005801219991703044)}}}
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 13:59:00+00:00
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.16, 'high': 521.27, 'low': 521.16, 'close': 521.25, 'volume': 89254.0}
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.25
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.26, middle=521.11, lower=520.96
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 60.648148148148756
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.81
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.81, RSI=60.648148148148756
2025-06-02 16:30:45,145 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,145 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-88d2fdb7
2025-06-02 16:30:45,146 - src.execution.order_manager - INFO - Order submitted: ORD-88d2fdb7
2025-06-02 16:30:45,146 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,146 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-88d2fdb7, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    Broker order ID: ORD-88d2fdb7
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-88d2fdb7
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Fill probability check: 0.830 vs 0.95
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,146 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,146 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 12ff123b-2c3e-46bb-ba6b-0fb4c0187315, order: ORD-88d2fdb7, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,146 - src.execution.order_manager - INFO - Order ORD-88d2fdb7 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,146 - src.execution.order_manager - INFO - Fill added to order ORD-88d2fdb7: 1.0 @ 99.95
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,146 - src.execution.execution_engine - INFO - Order executed: ORD-88d2fdb7 - Fill: 12ff123b-2c3e-46bb-ba6b-0fb4c0187315
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-88d2fdb7
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:00:00+00:00 - Price: 521.3500
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1020
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 63.0435
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.32, middle=521.13, lower=520.94, bandwidth=0.00}
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:00:00+00:00
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,146 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,146 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,146 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,146 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.102005), 'RSI': np.float64(63.04347826087225), 'BB_15': {'upper': np.float64(521.3214664097679), 'middle': np.float64(521.13246), 'lower': np.float64(520.9434535902321), 'bandwidth': np.float64(0.000725368017827401)}}}
2025-06-02 16:30:45,146 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:00:00+00:00
2025-06-02 16:30:45,146 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.25, 'high': 521.38, 'low': 521.18, 'close': 521.35, 'volume': 188916.0}
2025-06-02 16:30:45,146 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.35
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.102005), 'RSI': np.float64(63.04347826087225), 'BB_15': {'upper': np.float64(521.3214664097679), 'middle': np.float64(521.13246), 'lower': np.float64(520.9434535902321), 'bandwidth': np.float64(0.000725368017827401)}}}
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:00:00+00:00
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.25, 'high': 521.38, 'low': 521.18, 'close': 521.35, 'volume': 188916.0}
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.35
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.32, middle=521.13, lower=520.94
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 63.04347826087225
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 2.30
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=2.30, RSI=63.04347826087225
2025-06-02 16:30:45,147 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-1fd184b0
2025-06-02 16:30:45,147 - src.execution.order_manager - INFO - Order submitted: ORD-1fd184b0
2025-06-02 16:30:45,147 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,147 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-1fd184b0, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    Broker order ID: ORD-1fd184b0
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-1fd184b0
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Fill probability check: 0.023 vs 0.95
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,147 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,147 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: b345fbe9-9e03-48c7-bd8d-e02f0cbf4f8d, order: ORD-1fd184b0, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,147 - src.execution.order_manager - INFO - Order ORD-1fd184b0 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,147 - src.execution.order_manager - INFO - Fill added to order ORD-1fd184b0: 1.0 @ 99.95
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,147 - src.execution.execution_engine - INFO - Order executed: ORD-1fd184b0 - Fill: b345fbe9-9e03-48c7-bd8d-e02f0cbf4f8d
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-1fd184b0
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,147 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:01:00+00:00 - Price: 521.2801
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1234
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 59.8000
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.35, middle=521.14, lower=520.94, bandwidth=0.00}
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:01:00+00:00
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,148 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,148 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,148 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1234000000001), 'RSI': np.float64(59.79997937931373), 'BB_15': {'upper': np.float64(521.3460058489098), 'middle': np.float64(521.1438), 'lower': np.float64(520.9415941510903), 'bandwidth': np.float64(0.0007760078846176299)}}}
2025-06-02 16:30:45,148 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:01:00+00:00
2025-06-02 16:30:45,148 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.36, 'high': 521.38, 'low': 521.25, 'close': 521.2801, 'volume': 101208.0}
2025-06-02 16:30:45,148 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.2801
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1234000000001), 'RSI': np.float64(59.79997937931373), 'BB_15': {'upper': np.float64(521.3460058489098), 'middle': np.float64(521.1438), 'lower': np.float64(520.9415941510903), 'bandwidth': np.float64(0.0007760078846176299)}}}
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:01:00+00:00
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.36, 'high': 521.38, 'low': 521.25, 'close': 521.2801, 'volume': 101208.0}
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.2801
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.35, middle=521.14, lower=520.94
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 59.79997937931373
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.35
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.35, RSI=59.79997937931373
2025-06-02 16:30:45,148 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,148 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-26c8d6fa
2025-06-02 16:30:45,148 - src.execution.order_manager - INFO - Order submitted: ORD-26c8d6fa
2025-06-02 16:30:45,148 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,148 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-26c8d6fa, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    Broker order ID: ORD-26c8d6fa
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-26c8d6fa
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Fill probability check: 0.926 vs 0.95
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,148 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,148 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 0a23fa95-47d6-4826-b689-1cc1669ca1a1, order: ORD-26c8d6fa, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,148 - src.execution.order_manager - INFO - Order ORD-26c8d6fa status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,148 - src.execution.order_manager - INFO - Fill added to order ORD-26c8d6fa: 1.0 @ 99.95
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,148 - src.execution.execution_engine - INFO - Order executed: ORD-26c8d6fa - Fill: 0a23fa95-47d6-4826-b689-1cc1669ca1a1
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-26c8d6fa
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:02:00+00:00 - Price: 521.2900
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1432
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 56.6681
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.37, middle=521.16, lower=520.94, bandwidth=0.00}
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:02:00+00:00
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,149 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,149 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,149 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1431500000001), 'RSI': np.float64(56.66814847743948), 'BB_15': {'upper': np.float64(521.3695105784004), 'middle': np.float64(521.1571333333335), 'lower': np.float64(520.9447560882666), 'bandwidth': np.float64(0.000815021925186209)}}}
2025-06-02 16:30:45,149 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:02:00+00:00
2025-06-02 16:30:45,149 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.285, 'high': 521.325, 'low': 521.2, 'close': 521.29, 'volume': 69173.0}
2025-06-02 16:30:45,149 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.29
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1431500000001), 'RSI': np.float64(56.66814847743948), 'BB_15': {'upper': np.float64(521.3695105784004), 'middle': np.float64(521.1571333333335), 'lower': np.float64(520.9447560882666), 'bandwidth': np.float64(0.000815021925186209)}}}
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:02:00+00:00
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.285, 'high': 521.325, 'low': 521.2, 'close': 521.29, 'volume': 69173.0}
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.29
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.37, middle=521.16, lower=520.94
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 56.66814847743948
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.25
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.25, RSI=56.66814847743948
2025-06-02 16:30:45,149 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,149 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-f2d5eb79
2025-06-02 16:30:45,150 - src.execution.order_manager - INFO - Order submitted: ORD-f2d5eb79
2025-06-02 16:30:45,150 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,150 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-f2d5eb79, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    Broker order ID: ORD-f2d5eb79
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-f2d5eb79
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Fill probability check: 0.254 vs 0.95
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO -    Fill quantity: 0.5188908982972726
2025-06-02 16:30:45,150 - src.execution.market_simulation - INFO - Simulated fill: SELL 0.5188908982972726 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.26)
2025-06-02 16:30:45,150 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: c1f7e689-6fc7-4592-acdd-4ce3d00a0a28, order: ORD-f2d5eb79, side: SELL, quantity: 0.5188908982972726, symbol: SPY, price: 99.95
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,150 - src.execution.order_manager - INFO - Order ORD-f2d5eb79 status: OrderStatus.SUBMITTED -> OrderStatus.PARTIAL
2025-06-02 16:30:45,150 - src.execution.order_manager - INFO - Fill added to order ORD-f2d5eb79: 0.5188908982972726 @ 99.95
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,150 - src.execution.execution_engine - INFO - Order executed: ORD-f2d5eb79 - Fill: c1f7e689-6fc7-4592-acdd-4ce3d00a0a28
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 0.52 @ 99.9500
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-f2d5eb79
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=0.5188908982972726, price=99.95
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:03:00+00:00 - Price: 521.2500
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1514
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 53.2616
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.38, middle=521.16, lower=520.95, bandwidth=0.00}
2025-06-02 16:30:45,150 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:03:00+00:00
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1514000000001), 'RSI': np.float64(53.261578604041766), 'BB_15': {'upper': np.float64(521.3798280268228), 'middle': np.float64(521.1624666666668), 'lower': np.float64(520.9451053065108), 'bandwidth': np.float64(0.000834140499588462)}}}
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:03:00+00:00
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.3, 'high': 521.315, 'low': 521.1887, 'close': 521.25, 'volume': 66193.0}
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.25
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000182, rsi=53.26, threshold=0.0001
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    Price history length: 20, Current price: 521.25
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,151 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1514000000001), 'RSI': np.float64(53.261578604041766), 'BB_15': {'upper': np.float64(521.3798280268228), 'middle': np.float64(521.1624666666668), 'lower': np.float64(520.9451053065108), 'bandwidth': np.float64(0.000834140499588462)}}}
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:03:00+00:00
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.3, 'high': 521.315, 'low': 521.1887, 'close': 521.25, 'volume': 66193.0}
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.25
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.38, middle=521.16, lower=520.95
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 53.261578604041766
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.81
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=0.81, RSI=53.261578604041766
2025-06-02 16:30:45,151 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 0.91) - Positive momentum with room to run
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-cfc13a88
2025-06-02 16:30:45,151 - src.execution.order_manager - INFO - Order submitted: ORD-cfc13a88
2025-06-02 16:30:45,151 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-cfc13a88, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    Broker order ID: ORD-cfc13a88
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-cfc13a88
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Fill probability check: 0.676 vs 0.95
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,151 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,151 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: d3e2c398-823d-46d2-bc4b-55253f96b8f4, order: ORD-cfc13a88, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,151 - src.execution.order_manager - INFO - Order ORD-cfc13a88 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,151 - src.execution.order_manager - INFO - Fill added to order ORD-cfc13a88: 1.0 @ 100.05
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO - Order executed: ORD-cfc13a88 - Fill: d3e2c398-823d-46d2-bc4b-55253f96b8f4
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,151 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-cfc13a88
2025-06-02 16:30:45,151 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-2af3ed5d
2025-06-02 16:30:45,152 - src.execution.order_manager - INFO - Order submitted: ORD-2af3ed5d
2025-06-02 16:30:45,152 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,152 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-2af3ed5d, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    Broker order ID: ORD-2af3ed5d
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-2af3ed5d
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Fill probability check: 0.147 vs 0.95
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,152 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,152 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 58775c59-0428-46d6-82c9-43930cad1f6d, order: ORD-2af3ed5d, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,152 - src.execution.order_manager - INFO - Order ORD-2af3ed5d status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,152 - src.execution.order_manager - INFO - Fill added to order ORD-2af3ed5d: 1.0 @ 99.95
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,152 - src.execution.execution_engine - INFO - Order executed: ORD-2af3ed5d - Fill: 58775c59-0428-46d6-82c9-43930cad1f6d
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-2af3ed5d
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:04:00+00:00 - Price: 521.3300
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1601
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 55.8986
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.40, middle=521.17, lower=520.94, bandwidth=0.00}
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:04:00+00:00
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,152 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,152 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,152 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,152 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1601499999999), 'RSI': np.float64(55.89864587607785), 'BB_15': {'upper': np.float64(521.4045659883518), 'middle': np.float64(521.1718000000001), 'lower': np.float64(520.9390340116483), 'bandwidth': np.float64(0.0008932409173008851)}}}
2025-06-02 16:30:45,152 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:04:00+00:00
2025-06-02 16:30:45,152 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.25, 'high': 521.38, 'low': 521.25, 'close': 521.33, 'volume': 79253.0}
2025-06-02 16:30:45,152 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.33
2025-06-02 16:30:45,153 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000507, rsi=55.90, threshold=0.0001
2025-06-02 16:30:45,153 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,153 - src.strategy.strategies.momentum - INFO -    Price history length: 21, Current price: 521.33
2025-06-02 16:30:45,153 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,153 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,153 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1601499999999), 'RSI': np.float64(55.89864587607785), 'BB_15': {'upper': np.float64(521.4045659883518), 'middle': np.float64(521.1718000000001), 'lower': np.float64(520.9390340116483), 'bandwidth': np.float64(0.0008932409173008851)}}}
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:04:00+00:00
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.25, 'high': 521.38, 'low': 521.25, 'close': 521.33, 'volume': 79253.0}
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.33
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.40, middle=521.17, lower=520.94
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 55.89864587607785
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.36
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.36, RSI=55.89864587607785
2025-06-02 16:30:45,153 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,153 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-ad80e496
2025-06-02 16:30:45,154 - src.execution.order_manager - INFO - Order submitted: ORD-ad80e496
2025-06-02 16:30:45,154 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-ad80e496, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Broker order ID: ORD-ad80e496
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-ad80e496
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Fill probability check: 0.128 vs 0.95
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,154 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 3ce44de5-bc4c-4e81-82bd-c0af2218968b, order: ORD-ad80e496, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,154 - src.execution.order_manager - INFO - Order ORD-ad80e496 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,154 - src.execution.order_manager - INFO - Fill added to order ORD-ad80e496: 1.0 @ 100.05
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO - Order executed: ORD-ad80e496 - Fill: 3ce44de5-bc4c-4e81-82bd-c0af2218968b
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-ad80e496
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-58445b4a
2025-06-02 16:30:45,154 - src.execution.order_manager - INFO - Order submitted: ORD-58445b4a
2025-06-02 16:30:45,154 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,154 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-58445b4a, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Broker order ID: ORD-58445b4a
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-58445b4a
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Fill probability check: 0.332 vs 0.95
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO -    Fill quantity: 0.5691471085125617
2025-06-02 16:30:45,154 - src.execution.market_simulation - INFO - Simulated fill: SELL 0.5691471085125617 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.28)
2025-06-02 16:30:45,154 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 11701cc4-e851-4f4f-a7f2-e2fc6683a60d, order: ORD-58445b4a, side: SELL, quantity: 0.5691471085125617, symbol: SPY, price: 99.95
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,154 - src.execution.order_manager - INFO - Order ORD-58445b4a status: OrderStatus.SUBMITTED -> OrderStatus.PARTIAL
2025-06-02 16:30:45,154 - src.execution.order_manager - INFO - Fill added to order ORD-58445b4a: 0.5691471085125617 @ 99.95
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,154 - src.execution.execution_engine - INFO - Order executed: ORD-58445b4a - Fill: 11701cc4-e851-4f4f-a7f2-e2fc6683a60d
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 0.57 @ 99.9500
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-58445b4a
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:05:00+00:00 - Price: 521.3100
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,154 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=0.5691471085125617, price=99.95
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1724
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 63.3752
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.42, middle=521.18, lower=520.94, bandwidth=0.00}
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:05:00+00:00
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.17235), 'RSI': np.float64(63.375203535699434), 'BB_15': {'upper': np.float64(521.4202387392118), 'middle': np.float64(521.1781333333333), 'lower': np.float64(520.9360279274549), 'bandwidth': np.float64(0.0009290696995668742)}}}
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:05:00+00:00
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.32, 'high': 521.38, 'low': 521.3, 'close': 521.31, 'volume': 83007.0}
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.31
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000384, rsi=63.38, threshold=0.0001
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    Price history length: 22, Current price: 521.31
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? False, rsi > oversold? True
2025-06-02 16:30:45,155 - src.strategy.strategies.momentum - INFO -    âŒ No signal conditions met
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.17235), 'RSI': np.float64(63.375203535699434), 'BB_15': {'upper': np.float64(521.4202387392118), 'middle': np.float64(521.1781333333333), 'lower': np.float64(520.9360279274549), 'bandwidth': np.float64(0.0009290696995668742)}}}
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:05:00+00:00
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.32, 'high': 521.38, 'low': 521.3, 'close': 521.31, 'volume': 83007.0}
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.31
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.42, middle=521.18, lower=520.94
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 63.375203535699434
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.09
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.09, RSI=63.375203535699434
2025-06-02 16:30:45,155 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,155 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-e9cae21b
2025-06-02 16:30:45,155 - src.execution.order_manager - INFO - Order submitted: ORD-e9cae21b
2025-06-02 16:30:45,155 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,155 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-e9cae21b, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO -    Broker order ID: ORD-e9cae21b
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-e9cae21b
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Fill probability check: 0.458 vs 0.95
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,155 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,155 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 9b5215c4-e6b3-4a88-8aa0-2bbd6588085c, order: ORD-e9cae21b, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,155 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,156 - src.execution.order_manager - INFO - Order ORD-e9cae21b status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,156 - src.execution.order_manager - INFO - Fill added to order ORD-e9cae21b: 1.0 @ 99.95
2025-06-02 16:30:45,156 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,156 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,156 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,156 - src.execution.execution_engine - INFO - Order executed: ORD-e9cae21b - Fill: 9b5215c4-e6b3-4a88-8aa0-2bbd6588085c
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-e9cae21b
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:06:00+00:00 - Price: 521.3000
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1818
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 60.8460
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.44, middle=521.19, lower=520.95, bandwidth=0.00}
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:06:00+00:00
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1818499999999), 'RSI': np.float64(60.84598698481141), 'BB_15': {'upper': np.float64(521.4360014363992), 'middle': np.float64(521.1928), 'lower': np.float64(520.9495985636008), 'bandwidth': np.float64(0.0009332494094287488)}}}
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:06:00+00:00
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.3287, 'high': 521.35, 'low': 521.26, 'close': 521.3, 'volume': 54238.0}
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.3
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000403, rsi=60.85, threshold=0.0001
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    Price history length: 23, Current price: 521.3
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? False, rsi > oversold? True
2025-06-02 16:30:45,156 - src.strategy.strategies.momentum - INFO -    âŒ No signal conditions met
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.1818499999999), 'RSI': np.float64(60.84598698481141), 'BB_15': {'upper': np.float64(521.4360014363992), 'middle': np.float64(521.1928), 'lower': np.float64(520.9495985636008), 'bandwidth': np.float64(0.0009332494094287488)}}}
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:06:00+00:00
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.3287, 'high': 521.35, 'low': 521.26, 'close': 521.3, 'volume': 54238.0}
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.3
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.44, middle=521.19, lower=520.95
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 60.84598698481141
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.88
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=0.88, RSI=60.84598698481141
2025-06-02 16:30:45,156 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,156 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-9fd35191
2025-06-02 16:30:45,157 - src.execution.order_manager - INFO - Order submitted: ORD-9fd35191
2025-06-02 16:30:45,157 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,157 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-9fd35191, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    Broker order ID: ORD-9fd35191
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-9fd35191
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Fill probability check: 0.502 vs 0.95
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,157 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,157 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 1b6f97e3-e5b5-42e6-9a05-60812a07b709, order: ORD-9fd35191, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,157 - src.execution.order_manager - INFO - Order ORD-9fd35191 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,157 - src.execution.order_manager - INFO - Fill added to order ORD-9fd35191: 1.0 @ 99.95
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,157 - src.execution.execution_engine - INFO - Order executed: ORD-9fd35191 - Fill: 1b6f97e3-e5b5-42e6-9a05-60812a07b709
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-9fd35191
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:07:00+00:00 - Price: 521.4300
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.1988
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 74.9852
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.48, middle=521.21, lower=520.95, bandwidth=0.00}
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:07:00+00:00
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,157 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,157 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.19885), 'RSI': np.float64(74.98523680169771), 'BB_15': {'upper': np.float64(521.4799791320829), 'middle': np.float64(521.2134666666667), 'lower': np.float64(520.9469542012505), 'bandwidth': np.float64(0.0010226614715871513)}}}
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:07:00+00:00
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.31, 'high': 521.44, 'low': 521.285, 'close': 521.43, 'volume': 132666.0}
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.43
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000499, rsi=74.99, threshold=0.0001
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    Price history length: 24, Current price: 521.43
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? False, rsi > oversold? True
2025-06-02 16:30:45,158 - src.strategy.strategies.momentum - INFO -    âŒ No signal conditions met
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.19885), 'RSI': np.float64(74.98523680169771), 'BB_15': {'upper': np.float64(521.4799791320829), 'middle': np.float64(521.2134666666667), 'lower': np.float64(520.9469542012505), 'bandwidth': np.float64(0.0010226614715871513)}}}
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:07:00+00:00
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.31, 'high': 521.44, 'low': 521.285, 'close': 521.43, 'volume': 132666.0}
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.43
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.48, middle=521.21, lower=520.95
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 74.98523680169771
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.62
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.62, RSI=74.98523680169771
2025-06-02 16:30:45,158 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-ae051454
2025-06-02 16:30:45,158 - src.execution.order_manager - INFO - Order submitted: ORD-ae051454
2025-06-02 16:30:45,158 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,158 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-ae051454, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    Broker order ID: ORD-ae051454
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-ae051454
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Fill probability check: 0.606 vs 0.95
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO -    Fill quantity: 0.9361992469285838
2025-06-02 16:30:45,158 - src.execution.market_simulation - INFO - Simulated fill: SELL 0.9361992469285838 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.47)
2025-06-02 16:30:45,158 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: aa75cd42-629a-4714-ac33-762a27dea41e, order: ORD-ae051454, side: SELL, quantity: 0.9361992469285838, symbol: SPY, price: 99.95
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,158 - src.execution.order_manager - INFO - Order ORD-ae051454 status: OrderStatus.SUBMITTED -> OrderStatus.PARTIAL
2025-06-02 16:30:45,158 - src.execution.order_manager - INFO - Fill added to order ORD-ae051454: 0.9361992469285838 @ 99.95
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,158 - src.execution.execution_engine - INFO - Order executed: ORD-ae051454 - Fill: aa75cd42-629a-4714-ac33-762a27dea41e
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 0.94 @ 99.9500
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-ae051454
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=0.9361992469285838, price=99.95
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,158 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:08:00+00:00 - Price: 521.3800
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2093
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 75.1539
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.49, middle=521.24, lower=520.98, bandwidth=0.00}
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:08:00+00:00
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2093499999999), 'RSI': np.float64(75.15388257575258), 'BB_15': {'upper': np.float64(521.4924484681784), 'middle': np.float64(521.23834), 'lower': np.float64(520.9842315318216), 'bandwidth': np.float64(0.0009750183310707206)}}}
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:08:00+00:00
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.43, 'high': 521.495, 'low': 521.33, 'close': 521.38, 'volume': 90138.0}
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.38
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000365, rsi=75.15, threshold=0.0001
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    Price history length: 25, Current price: 521.38
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? False, rsi > oversold? True
2025-06-02 16:30:45,159 - src.strategy.strategies.momentum - INFO -    âŒ No signal conditions met
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2093499999999), 'RSI': np.float64(75.15388257575258), 'BB_15': {'upper': np.float64(521.4924484681784), 'middle': np.float64(521.23834), 'lower': np.float64(520.9842315318216), 'bandwidth': np.float64(0.0009750183310707206)}}}
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:08:00+00:00
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.43, 'high': 521.495, 'low': 521.33, 'close': 521.38, 'volume': 90138.0}
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.38
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.49, middle=521.24, lower=520.98
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 75.15388257575258
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.11
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.11, RSI=75.15388257575258
2025-06-02 16:30:45,159 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,159 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,159 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-589f2f34
2025-06-02 16:30:45,159 - src.execution.order_manager - INFO - Order submitted: ORD-589f2f34
2025-06-02 16:30:45,159 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,159 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-589f2f34, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,159 - src.execution.execution_engine - INFO -    Broker order ID: ORD-589f2f34
2025-06-02 16:30:45,159 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,159 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,159 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,159 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-589f2f34
2025-06-02 16:30:45,159 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,159 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,159 - src.execution.market_simulation - INFO -    Fill probability check: 0.942 vs 0.95
2025-06-02 16:30:45,159 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,159 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,159 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,160 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,160 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,160 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,160 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,160 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 7b82cad6-5ee5-454c-97c4-e5cdc5e11ada, order: ORD-589f2f34, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,160 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,160 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,160 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,160 - src.execution.order_manager - INFO - Order ORD-589f2f34 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,160 - src.execution.order_manager - INFO - Fill added to order ORD-589f2f34: 1.0 @ 99.95
2025-06-02 16:30:45,160 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,160 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,160 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,160 - src.execution.execution_engine - INFO - Order executed: ORD-589f2f34 - Fill: 7b82cad6-5ee5-454c-97c4-e5cdc5e11ada
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-589f2f34
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:09:00+00:00 - Price: 521.3000
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2148
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 65.4799
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.47, middle=521.26, lower=521.06, bandwidth=0.00}
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:09:00+00:00
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2148499999998), 'RSI': np.float64(65.47987616098656), 'BB_15': {'upper': np.float64(521.4664266977646), 'middle': np.float64(521.26134), 'lower': np.float64(521.0562533022354), 'bandwidth': np.float64(0.0007868862776764824)}}}
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:09:00+00:00
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.355, 'high': 521.36, 'low': 521.29, 'close': 521.3, 'volume': 76364.0}
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.3
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000163, rsi=65.48, threshold=0.0001
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    Price history length: 26, Current price: 521.3
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? False, rsi > oversold? True
2025-06-02 16:30:45,160 - src.strategy.strategies.momentum - INFO -    âŒ No signal conditions met
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2148499999998), 'RSI': np.float64(65.47987616098656), 'BB_15': {'upper': np.float64(521.4664266977646), 'middle': np.float64(521.26134), 'lower': np.float64(521.0562533022354), 'bandwidth': np.float64(0.0007868862776764824)}}}
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:09:00+00:00
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.355, 'high': 521.36, 'low': 521.29, 'close': 521.3, 'volume': 76364.0}
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.3
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.47, middle=521.26, lower=521.06
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 65.47987616098656
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.38
2025-06-02 16:30:45,160 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,160 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals generated by any sub-container strategy
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:10:00+00:00 - Price: 521.1400
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2111
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 49.7206
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.45, middle=521.27, lower=521.09, bandwidth=0.00}
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:10:00+00:00
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,161 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,161 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,161 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,161 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2110999999999), 'RSI': np.float64(49.72060795708569), 'BB_15': {'upper': np.float64(521.44896147453), 'middle': np.float64(521.2680066666667), 'lower': np.float64(521.0870518588033), 'bandwidth': np.float64(0.0006942870291256202)}}}
2025-06-02 16:30:45,161 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:10:00+00:00
2025-06-02 16:30:45,161 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.29, 'high': 521.37, 'low': 521.12, 'close': 521.14, 'volume': 88518.0}
2025-06-02 16:30:45,161 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.14
2025-06-02 16:30:45,161 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000115, rsi=49.72, threshold=0.0001
2025-06-02 16:30:45,162 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,162 - src.strategy.strategies.momentum - INFO -    Price history length: 27, Current price: 521.14
2025-06-02 16:30:45,162 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,162 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,162 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2110999999999), 'RSI': np.float64(49.72060795708569), 'BB_15': {'upper': np.float64(521.44896147453), 'middle': np.float64(521.2680066666667), 'lower': np.float64(521.0870518588033), 'bandwidth': np.float64(0.0006942870291256202)}}}
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:10:00+00:00
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.29, 'high': 521.37, 'low': 521.12, 'close': 521.14, 'volume': 88518.0}
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.14
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.45, middle=521.27, lower=521.09
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 49.72060795708569
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -1.41
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸŸ¢ BUY signal: z_score=-1.41, RSI=49.72060795708569
2025-06-02 16:30:45,162 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 0.58) - Positive momentum with room to run
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Price below lower band - oversold
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-1c032b99
2025-06-02 16:30:45,162 - src.execution.order_manager - INFO - Order submitted: ORD-1c032b99
2025-06-02 16:30:45,162 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-1c032b99, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Broker order ID: ORD-1c032b99
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-1c032b99
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Fill probability check: 0.561 vs 0.95
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Fill quantity: 0.652531303361554
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO - Simulated fill: BUY 0.652531303361554 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.33)
2025-06-02 16:30:45,162 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 7eb89a90-f100-4133-b952-a1e139dc2926, order: ORD-1c032b99, side: BUY, quantity: 0.652531303361554, symbol: SPY, price: 100.05
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,162 - src.execution.order_manager - INFO - Order ORD-1c032b99 status: OrderStatus.SUBMITTED -> OrderStatus.PARTIAL
2025-06-02 16:30:45,162 - src.execution.order_manager - INFO - Fill added to order ORD-1c032b99: 0.652531303361554 @ 100.05
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO - Order executed: ORD-1c032b99 - Fill: 7eb89a90-f100-4133-b952-a1e139dc2926
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 0.65 @ 100.0500
2025-06-02 16:30:45,162 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-1c032b99
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-edcc364f
2025-06-02 16:30:45,162 - src.execution.order_manager - INFO - Order submitted: ORD-edcc364f
2025-06-02 16:30:45,162 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-edcc364f, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Broker order ID: ORD-edcc364f
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,162 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-edcc364f
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Fill probability check: 0.921 vs 0.95
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO -    Fill quantity: 0.6995575220490795
2025-06-02 16:30:45,162 - src.execution.market_simulation - INFO - Simulated fill: BUY 0.6995575220490795 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.35)
2025-06-02 16:30:45,163 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: b0e452d3-97e9-40bc-bc2e-f624c5c3aa03, order: ORD-edcc364f, side: BUY, quantity: 0.6995575220490795, symbol: SPY, price: 100.05
2025-06-02 16:30:45,163 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,163 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,163 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,163 - src.execution.order_manager - INFO - Order ORD-edcc364f status: OrderStatus.SUBMITTED -> OrderStatus.PARTIAL
2025-06-02 16:30:45,163 - src.execution.order_manager - INFO - Fill added to order ORD-edcc364f: 0.6995575220490795 @ 100.05
2025-06-02 16:30:45,163 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,163 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,163 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,163 - src.execution.execution_engine - INFO - Order executed: ORD-edcc364f - Fill: b0e452d3-97e9-40bc-bc2e-f624c5c3aa03
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 0.70 @ 100.0500
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-edcc364f
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=0.652531303361554, price=100.05
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=0.6995575220490795, price=100.05
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:11:00+00:00 - Price: 521.1750
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2158
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 52.7479
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.45, middle=521.27, lower=521.09, bandwidth=0.00}
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:11:00+00:00
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2158499999998), 'RSI': np.float64(52.74785667179311), 'BB_15': {'upper': np.float64(521.4460763569097), 'middle': np.float64(521.2700066666667), 'lower': np.float64(521.0939369764238), 'bandwidth': np.float64(0.0006755412281200447)}}}
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:11:00+00:00
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.14, 'high': 521.175, 'low': 520.93, 'close': 521.175, 'volume': 203520.0}
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.175
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000106, rsi=52.75, threshold=0.0001
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    Price history length: 28, Current price: 521.175
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,163 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,163 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2158499999998), 'RSI': np.float64(52.74785667179311), 'BB_15': {'upper': np.float64(521.4460763569097), 'middle': np.float64(521.2700066666667), 'lower': np.float64(521.0939369764238), 'bandwidth': np.float64(0.0006755412281200447)}}}
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:11:00+00:00
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.14, 'high': 521.175, 'low': 520.93, 'close': 521.175, 'volume': 203520.0}
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.175
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.45, middle=521.27, lower=521.09
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 52.74785667179311
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -1.08
2025-06-02 16:30:45,163 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸŸ¢ BUY signal: z_score=-1.08, RSI=52.74785667179311
2025-06-02 16:30:45,164 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 0.53) - Positive momentum with room to run
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Price below lower band - oversold
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-42475fcf
2025-06-02 16:30:45,164 - src.execution.order_manager - INFO - Order submitted: ORD-42475fcf
2025-06-02 16:30:45,164 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-42475fcf, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Broker order ID: ORD-42475fcf
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-42475fcf
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Fill probability check: 0.490 vs 0.95
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,164 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 212b819c-4e11-4a75-8918-11532a5388c7, order: ORD-42475fcf, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,164 - src.execution.order_manager - INFO - Order ORD-42475fcf status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,164 - src.execution.order_manager - INFO - Fill added to order ORD-42475fcf: 1.0 @ 100.05
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO - Order executed: ORD-42475fcf - Fill: 212b819c-4e11-4a75-8918-11532a5388c7
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-42475fcf
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-cff912fa
2025-06-02 16:30:45,164 - src.execution.order_manager - INFO - Order submitted: ORD-cff912fa
2025-06-02 16:30:45,164 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-cff912fa, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Broker order ID: ORD-cff912fa
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-cff912fa
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Fill probability check: 0.419 vs 0.95
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,164 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,164 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: b4a4160f-ce71-4f69-8d79-9ed8d923ede4, order: ORD-cff912fa, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,164 - src.execution.order_manager - INFO - Order ORD-cff912fa status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,164 - src.execution.order_manager - INFO - Fill added to order ORD-cff912fa: 1.0 @ 100.05
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,164 - src.execution.execution_engine - INFO - Order executed: ORD-cff912fa - Fill: b4a4160f-ce71-4f69-8d79-9ed8d923ede4
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-cff912fa
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,164 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:12:00+00:00 - Price: 521.2900
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2243
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 57.4272
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.44, middle=521.28, lower=521.12, bandwidth=0.00}
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:12:00+00:00
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2243499999998), 'RSI': np.float64(57.42721330956399), 'BB_15': {'upper': np.float64(521.439170977292), 'middle': np.float64(521.2810066666667), 'lower': np.float64(521.1228423560415), 'bandwidth': np.float64(0.0006068293630593492)}}}
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:12:00+00:00
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.18, 'high': 521.36, 'low': 521.1637, 'close': 521.29, 'volume': 122954.0}
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.29
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000543, rsi=57.43, threshold=0.0001
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    Price history length: 29, Current price: 521.29
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,165 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2243499999998), 'RSI': np.float64(57.42721330956399), 'BB_15': {'upper': np.float64(521.439170977292), 'middle': np.float64(521.2810066666667), 'lower': np.float64(521.1228423560415), 'bandwidth': np.float64(0.0006068293630593492)}}}
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:12:00+00:00
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.18, 'high': 521.36, 'low': 521.1637, 'close': 521.29, 'volume': 122954.0}
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.29
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.44, middle=521.28, lower=521.12
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 57.42721330956399
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.11
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO -    âšª EXIT signal: z_score=0.11
2025-06-02 16:30:45,165 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 0.80) - Price returned to mean
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,165 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-a7e58b56
2025-06-02 16:30:45,166 - src.execution.order_manager - INFO - Order submitted: ORD-a7e58b56
2025-06-02 16:30:45,166 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-a7e58b56, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Broker order ID: ORD-a7e58b56
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-a7e58b56
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Fill probability check: 0.575 vs 0.95
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,166 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 020b771c-df63-4aec-8e18-47bef4b07129, order: ORD-a7e58b56, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,166 - src.execution.order_manager - INFO - Order ORD-a7e58b56 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,166 - src.execution.order_manager - INFO - Fill added to order ORD-a7e58b56: 1.0 @ 100.05
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO - Order executed: ORD-a7e58b56 - Fill: 020b771c-df63-4aec-8e18-47bef4b07129
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-a7e58b56
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-cd4e94af
2025-06-02 16:30:45,166 - src.execution.order_manager - INFO - Order submitted: ORD-cd4e94af
2025-06-02 16:30:45,166 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,166 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-cd4e94af, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Broker order ID: ORD-cd4e94af
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-cd4e94af
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Fill probability check: 0.205 vs 0.95
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,166 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,166 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: a76697e5-3607-4f33-b322-4fc5fae039da, order: ORD-cd4e94af, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,166 - src.execution.order_manager - INFO - Order ORD-cd4e94af status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,166 - src.execution.order_manager - INFO - Fill added to order ORD-cd4e94af: 1.0 @ 99.95
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,166 - src.execution.execution_engine - INFO - Order executed: ORD-cd4e94af - Fill: a76697e5-3607-4f33-b322-4fc5fae039da
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-cd4e94af
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,166 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:13:00+00:00 - Price: 521.3001
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2390
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 52.7530
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.43, middle=521.29, lower=521.15, bandwidth=0.00}
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:13:00+00:00
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2390099999999), 'RSI': np.float64(52.75304978569243), 'BB_15': {'upper': np.float64(521.4308036227246), 'middle': np.float64(521.29168), 'lower': np.float64(521.1525563772755), 'bandwidth': np.float64(0.0005337649844115827)}}}
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:13:00+00:00
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.31, 'high': 521.34, 'low': 521.22, 'close': 521.3001, 'volume': 63689.0}
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.3001
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000662, rsi=52.75, threshold=0.0001
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    Price history length: 30, Current price: 521.3001
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,167 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2390099999999), 'RSI': np.float64(52.75304978569243), 'BB_15': {'upper': np.float64(521.4308036227246), 'middle': np.float64(521.29168), 'lower': np.float64(521.1525563772755), 'bandwidth': np.float64(0.0005337649844115827)}}}
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:13:00+00:00
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.31, 'high': 521.34, 'low': 521.22, 'close': 521.3001, 'volume': 63689.0}
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.3001
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.43, middle=521.29, lower=521.15
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 52.75304978569243
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.12
2025-06-02 16:30:45,167 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,167 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,167 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-dc36c2dd
2025-06-02 16:30:45,167 - src.execution.order_manager - INFO - Order submitted: ORD-dc36c2dd
2025-06-02 16:30:45,167 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-dc36c2dd, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,167 - src.execution.execution_engine - INFO -    Broker order ID: ORD-dc36c2dd
2025-06-02 16:30:45,167 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,167 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,167 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,167 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-dc36c2dd
2025-06-02 16:30:45,167 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,167 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,167 - src.execution.market_simulation - INFO -    Fill probability check: 0.183 vs 0.95
2025-06-02 16:30:45,167 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,167 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,167 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,168 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,168 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,168 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,168 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,168 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 74b3bc0c-60c1-4e27-80c4-67f0b1030371, order: ORD-dc36c2dd, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,168 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,168 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,168 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,168 - src.execution.order_manager - INFO - Order ORD-dc36c2dd status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,168 - src.execution.order_manager - INFO - Fill added to order ORD-dc36c2dd: 1.0 @ 100.05
2025-06-02 16:30:45,168 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,168 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,168 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,168 - src.execution.execution_engine - INFO - Order executed: ORD-dc36c2dd - Fill: 74b3bc0c-60c1-4e27-80c4-67f0b1030371
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-dc36c2dd
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:14:00+00:00 - Price: 521.3300
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2578
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 48.8092
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.44, middle=521.30, lower=521.16, bandwidth=0.00}
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:14:00+00:00
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.25776), 'RSI': np.float64(48.80924029530977), 'BB_15': {'upper': np.float64(521.4354688302349), 'middle': np.float64(521.2970133333334), 'lower': np.float64(521.158557836432), 'bandwidth': np.float64(0.00053119620239569)}}}
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:14:00+00:00
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.3199, 'high': 521.38, 'low': 521.28, 'close': 521.33, 'volume': 68387.0}
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.33
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000557, rsi=48.81, threshold=0.0001
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    Price history length: 31, Current price: 521.33
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,168 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.25776), 'RSI': np.float64(48.80924029530977), 'BB_15': {'upper': np.float64(521.4354688302349), 'middle': np.float64(521.2970133333334), 'lower': np.float64(521.158557836432), 'bandwidth': np.float64(0.00053119620239569)}}}
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:14:00+00:00
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.3199, 'high': 521.38, 'low': 521.28, 'close': 521.33, 'volume': 68387.0}
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.33
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.44, middle=521.30, lower=521.16
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 48.80924029530977
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.48
2025-06-02 16:30:45,168 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,168 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-4fe98f36
2025-06-02 16:30:45,169 - src.execution.order_manager - INFO - Order submitted: ORD-4fe98f36
2025-06-02 16:30:45,169 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-4fe98f36, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    Broker order ID: ORD-4fe98f36
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-4fe98f36
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Fill probability check: 0.717 vs 0.95
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,169 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,169 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 771b79e1-35ca-4315-b7e6-55e03e251c23, order: ORD-4fe98f36, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,169 - src.execution.order_manager - INFO - Order ORD-4fe98f36 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,169 - src.execution.order_manager - INFO - Fill added to order ORD-4fe98f36: 1.0 @ 100.05
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,169 - src.execution.execution_engine - INFO - Order executed: ORD-4fe98f36 - Fill: 771b79e1-35ca-4315-b7e6-55e03e251c23
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-4fe98f36
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:15:00+00:00 - Price: 521.2750
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,169 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2695
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 49.6909
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.43, middle=521.29, lower=521.16, bandwidth=0.00}
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:15:00+00:00
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2695099999999), 'RSI': np.float64(49.69087162080439), 'BB_15': {'upper': np.float64(521.4278457961526), 'middle': np.float64(521.2920133333333), 'lower': np.float64(521.156180870514), 'bandwidth': np.float64(0.0005211377091727897)}}}
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:15:00+00:00
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.34, 'high': 521.395, 'low': 521.23, 'close': 521.275, 'volume': 101962.0}
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.275
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000249, rsi=49.69, threshold=0.0001
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    Price history length: 32, Current price: 521.275
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,170 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2695099999999), 'RSI': np.float64(49.69087162080439), 'BB_15': {'upper': np.float64(521.4278457961526), 'middle': np.float64(521.2920133333333), 'lower': np.float64(521.156180870514), 'bandwidth': np.float64(0.0005211377091727897)}}}
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:15:00+00:00
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.34, 'high': 521.395, 'low': 521.23, 'close': 521.275, 'volume': 101962.0}
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.275
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.43, middle=521.29, lower=521.16
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 49.69087162080439
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: -0.25
2025-06-02 16:30:45,170 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-4bdf3424
2025-06-02 16:30:45,170 - src.execution.order_manager - INFO - Order submitted: ORD-4bdf3424
2025-06-02 16:30:45,170 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-4bdf3424, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    Broker order ID: ORD-4bdf3424
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-4bdf3424
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Fill probability check: 0.685 vs 0.95
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,170 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,170 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 15883efc-f2a6-40e3-9eeb-e83965bceb39, order: ORD-4bdf3424, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,170 - src.execution.order_manager - INFO - Order ORD-4bdf3424 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,170 - src.execution.order_manager - INFO - Fill added to order ORD-4bdf3424: 1.0 @ 100.05
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,170 - src.execution.execution_engine - INFO - Order executed: ORD-4bdf3424 - Fill: 15883efc-f2a6-40e3-9eeb-e83965bceb39
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-4bdf3424
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,170 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:16:00+00:00 - Price: 521.3200
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2783
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 51.7442
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.43, middle=521.29, lower=521.16, bandwidth=0.00}
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:16:00+00:00
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2782599999999), 'RSI': np.float64(51.744186046516155), 'BB_15': {'upper': np.float64(521.4310301293584), 'middle': np.float64(521.2946733333333), 'lower': np.float64(521.1583165373082), 'bandwidth': np.float64(0.0005231467076122837)}}}
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:16:00+00:00
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.27, 'high': 521.39, 'low': 521.27, 'close': 521.32, 'volume': 63041.0}
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.32
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000374, rsi=51.74, threshold=0.0001
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    Price history length: 33, Current price: 521.32
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,171 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2782599999999), 'RSI': np.float64(51.744186046516155), 'BB_15': {'upper': np.float64(521.4310301293584), 'middle': np.float64(521.2946733333333), 'lower': np.float64(521.1583165373082), 'bandwidth': np.float64(0.0005231467076122837)}}}
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:16:00+00:00
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.27, 'high': 521.39, 'low': 521.27, 'close': 521.32, 'volume': 63041.0}
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.32
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.43, middle=521.29, lower=521.16
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 51.744186046516155
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 0.37
2025-06-02 16:30:45,171 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 0 mean reversion signals
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“­ No signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 1 signals from sub-containers
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 1 signals
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,171 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 1 orders
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-615b0efa
2025-06-02 16:30:45,172 - src.execution.order_manager - INFO - Order submitted: ORD-615b0efa
2025-06-02 16:30:45,172 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-615b0efa, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    Broker order ID: ORD-615b0efa
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-615b0efa
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Fill probability check: 0.848 vs 0.95
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO -    Fill quantity: 0.7163185344065158
2025-06-02 16:30:45,172 - src.execution.market_simulation - INFO - Simulated fill: BUY 0.7163185344065158 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.36)
2025-06-02 16:30:45,172 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 8b7ddf7a-3c80-4f21-8826-41388f32bccf, order: ORD-615b0efa, side: BUY, quantity: 0.7163185344065158, symbol: SPY, price: 100.05
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,172 - src.execution.order_manager - INFO - Order ORD-615b0efa status: OrderStatus.SUBMITTED -> OrderStatus.PARTIAL
2025-06-02 16:30:45,172 - src.execution.order_manager - INFO - Fill added to order ORD-615b0efa: 0.7163185344065158 @ 100.05
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,172 - src.execution.execution_engine - INFO - Order executed: ORD-615b0efa - Fill: 8b7ddf7a-3c80-4f21-8826-41388f32bccf
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 0.72 @ 100.0500
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-615b0efa
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=0.7163185344065158, price=100.05
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:17:00+00:00 - Price: 521.3800
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.2910
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 57.3864
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.44, middle=521.30, lower=521.16, bandwidth=0.00}
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:17:00+00:00
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,172 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2910099999998), 'RSI': np.float64(57.38636363636151), 'BB_15': {'upper': np.float64(521.4434488768351), 'middle': np.float64(521.3006733333333), 'lower': np.float64(521.1578977898315), 'bandwidth': np.float64(0.0005477665800384322)}}}
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:17:00+00:00
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.33, 'high': 521.44, 'low': 521.29, 'close': 521.38, 'volume': 89547.0}
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.38
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000461, rsi=57.39, threshold=0.0001
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    Price history length: 34, Current price: 521.38
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,172 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,173 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.2910099999998), 'RSI': np.float64(57.38636363636151), 'BB_15': {'upper': np.float64(521.4434488768351), 'middle': np.float64(521.3006733333333), 'lower': np.float64(521.1578977898315), 'bandwidth': np.float64(0.0005477665800384322)}}}
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:17:00+00:00
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.33, 'high': 521.44, 'low': 521.29, 'close': 521.38, 'volume': 89547.0}
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.38
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.44, middle=521.30, lower=521.16
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 57.38636363636151
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.11
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.11, RSI=57.38636363636151
2025-06-02 16:30:45,173 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-31b0d689
2025-06-02 16:30:45,173 - src.execution.order_manager - INFO - Order submitted: ORD-31b0d689
2025-06-02 16:30:45,173 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-31b0d689, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Broker order ID: ORD-31b0d689
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-31b0d689
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO -    Fill probability check: 0.969 vs 0.95
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO - âŒ Order ORD-31b0d689 not filled (probability)
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO - Order not filled: ORD-31b0d689
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-ae56043a
2025-06-02 16:30:45,173 - src.execution.order_manager - INFO - Order submitted: ORD-ae56043a
2025-06-02 16:30:45,173 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,173 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-ae56043a, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Broker order ID: ORD-ae56043a
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-ae56043a
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO -    Fill probability check: 0.953 vs 0.95
2025-06-02 16:30:45,173 - src.execution.market_simulation - INFO - âŒ Order ORD-ae56043a not filled (probability)
2025-06-02 16:30:45,173 - src.execution.execution_engine - INFO - Order not filled: ORD-ae56043a
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,173 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:18:00+00:00 - Price: 521.4800
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.3080
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 58.3333
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.48, middle=521.32, lower=521.15, bandwidth=0.00}
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:18:00+00:00
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.30801), 'RSI': np.float64(58.33333333333018), 'BB_15': {'upper': np.float64(521.4813401150536), 'middle': np.float64(521.3160066666666), 'lower': np.float64(521.1506732182795), 'bandwidth': np.float64(0.0006342926220287269)}}}
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:18:00+00:00
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.38, 'high': 521.58, 'low': 521.37, 'close': 521.48, 'volume': 151792.0}
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.48
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000441, rsi=58.33, threshold=0.0001
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    Price history length: 35, Current price: 521.48
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,174 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.30801), 'RSI': np.float64(58.33333333333018), 'BB_15': {'upper': np.float64(521.4813401150536), 'middle': np.float64(521.3160066666666), 'lower': np.float64(521.1506732182795), 'bandwidth': np.float64(0.0006342926220287269)}}}
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:18:00+00:00
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.38, 'high': 521.58, 'low': 521.37, 'close': 521.48, 'volume': 151792.0}
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.48
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.48, middle=521.32, lower=521.15
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 58.33333333333018
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.98
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.98, RSI=58.33333333333018
2025-06-02 16:30:45,174 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 1.00) - Positive momentum with room to run
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,174 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,174 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-560ec1cb
2025-06-02 16:30:45,174 - src.execution.order_manager - INFO - Order submitted: ORD-560ec1cb
2025-06-02 16:30:45,174 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-560ec1cb, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,174 - src.execution.execution_engine - INFO -    Broker order ID: ORD-560ec1cb
2025-06-02 16:30:45,174 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,174 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,174 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-560ec1cb
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Fill probability check: 0.434 vs 0.95
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,174 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,174 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 85f36161-948a-4218-8596-279b4a272f91, order: ORD-560ec1cb, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,175 - src.execution.order_manager - INFO - Order ORD-560ec1cb status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,175 - src.execution.order_manager - INFO - Fill added to order ORD-560ec1cb: 1.0 @ 100.05
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO - Order executed: ORD-560ec1cb - Fill: 85f36161-948a-4218-8596-279b4a272f91
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-560ec1cb
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-236fd242
2025-06-02 16:30:45,175 - src.execution.order_manager - INFO - Order submitted: ORD-236fd242
2025-06-02 16:30:45,175 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,175 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-236fd242, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    Broker order ID: ORD-236fd242
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-236fd242
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Fill probability check: 0.662 vs 0.95
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,175 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,175 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: aae24910-a643-46ff-814a-ccc039f03641, order: ORD-236fd242, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,175 - src.execution.order_manager - INFO - Order ORD-236fd242 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,175 - src.execution.order_manager - INFO - Fill added to order ORD-236fd242: 1.0 @ 99.95
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,175 - src.execution.execution_engine - INFO - Order executed: ORD-236fd242 - Fill: aae24910-a643-46ff-814a-ccc039f03641
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-236fd242
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.BAR
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ğŸ“Š Processing BAR event for symbol: SPY
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - [BAR] SPY @ 2024-03-26 14:19:00+00:00 - Price: 521.4250
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ğŸ¯ StrategyContainer received event: EventType.INDICATORS
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Processing INDICATORS event with 1 symbols and 1 market data entries
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ğŸ“Š Updated market data, now have 1 symbols
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY SMA_20 = 521.3168
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY RSI = 56.1497
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - [INDICATOR] SPY BB_15 = {upper=521.50, middle=521.32, lower=521.15, bandwidth=0.00}
2025-06-02 16:30:45,175 - src.execution.containers_pipeline - INFO - ğŸ” _process_signals called with timestamp: 2024-03-26 14:19:00+00:00
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ“Š Market data available: True
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ“ˆ Indicators available: True
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ­ Strategy available: False
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ”€ Multi-strategy mode - processing with sub-containers
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MomentumStrategy
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO - ğŸ¯ MomentumStrategy.generate_signals() called!
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.3167599999998), 'RSI': np.float64(56.1497326203202), 'BB_15': {'upper': np.float64(521.4963812793947), 'middle': np.float64(521.3223399999999), 'lower': np.float64(521.1482987206052), 'bandwidth': np.float64(0.0006676916220190294)}}}
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    Timestamp: 2024-03-26 14:19:00+00:00
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.47, 'high': 521.47, 'low': 521.4, 'close': 521.425, 'volume': 92254.0}
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    ğŸ’° Extracted price: 521.425
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO - ğŸ¯ SIGNAL ANALYSIS: momentum=0.000144, rsi=56.15, threshold=0.0001
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    RSI bounds: oversold=40, overbought=60
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    Price history length: 36, Current price: 521.425
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    Momentum conditions: momentum > threshold? True, momentum < -threshold? False
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    RSI conditions: rsi < overbought? True, rsi > oversold? True
2025-06-02 16:30:45,176 - src.strategy.strategies.momentum - INFO -    ğŸ’¡ BULLISH signal triggered!
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_momentum_strategy
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸš€ Processing signals with sub-strategy: MeanReversionStrategy
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO - ğŸ¯ MeanReversionStrategy.generate_signals() called!
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    Market data: ['SPY'] symbols
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    Indicators: {'SPY': {'SMA_20': np.float64(521.3167599999998), 'RSI': np.float64(56.1497326203202), 'BB_15': {'upper': np.float64(521.4963812793947), 'middle': np.float64(521.3223399999999), 'lower': np.float64(521.1482987206052), 'bandwidth': np.float64(0.0006676916220190294)}}}
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    Timestamp: 2024-03-26 14:19:00+00:00
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Processing symbol: SPY, data: {'open': 521.47, 'high': 521.47, 'low': 521.4, 'close': 521.425, 'volume': 92254.0}
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ’° Extracted price: 521.425
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š BB: upper=521.50, middle=521.32, lower=521.15
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š RSI: 56.1497326203202
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ“Š Z-score: 1.18
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO -    ğŸ”´ SELL signal: z_score=1.18, RSI=56.1497326203202
2025-06-02 16:30:45,176 - src.strategy.strategies.mean_reversion_simple - INFO - Generated 1 mean reversion signals
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ“¥ Got 1 signals from SubStrategy_mean_reversion_strategy
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ”„ Aggregated 2 signals from sub-containers
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸš€ StrategyContainer publishing SIGNAL via event bus
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ“Š PortfolioContainer received SIGNAL event with 2 signals
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ğŸ“¤ PortfolioContainer forwarding signals to next stage
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.BUY (strength: 0.72) - Positive momentum with room to run
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - [SIGNAL] SPY OrderSide.SELL (strength: 1.00) - Price above upper band - overbought
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.BUY signal
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.BUY 1
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - âœ… Risk limits passed for SPY OrderSide.SELL signal
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - RiskContainer created order: SPY OrderSide.SELL 1
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - [ORDER] SPY 1 1.00 @ 0.0000
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - [ORDER] SPY -1 1.00 @ 0.0000
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - RiskContainer approved and emitted 2 orders
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-0afd2f3e
2025-06-02 16:30:45,176 - src.execution.order_manager - INFO - Order submitted: ORD-0afd2f3e
2025-06-02 16:30:45,176 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-0afd2f3e, side: BUY, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    Broker order ID: ORD-0afd2f3e
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-0afd2f3e
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Order: SPY 1 1 @ None (type: MARKET)
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Fill probability check: 0.922 vs 0.95
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 100.05 (slippage: 0.05)
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,176 - src.execution.market_simulation - INFO - Simulated fill: BUY 1.0 SPY @ 100.05 (market: 100.00, slippage: 0.0500, commission: 0.50)
2025-06-02 16:30:45,176 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: d778a6b9-ed2c-4c04-a34f-4c096c01a98a, order: ORD-0afd2f3e, side: BUY, quantity: 1.0, symbol: SPY, price: 100.05
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,176 - src.execution.order_manager - INFO - Order ORD-0afd2f3e status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,176 - src.execution.order_manager - INFO - Fill added to order ORD-0afd2f3e: 1.0 @ 100.05
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO - Order executed: ORD-0afd2f3e - Fill: d778a6b9-ed2c-4c04-a34f-4c096c01a98a
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY 1 1.00 @ 100.0500
2025-06-02 16:30:45,176 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-0afd2f3e
2025-06-02 16:30:45,176 - src.execution.execution_engine - INFO - ğŸ”§ DefaultExecutionEngine.execute_order() called for ORD-34e55788
2025-06-02 16:30:45,176 - src.execution.order_manager - INFO - Order submitted: ORD-34e55788
2025-06-02 16:30:45,176 - src.execution.backtest_broker_refactored - INFO - Allowing short sale initiation for SPY - quantity: 1
2025-06-02 16:30:45,176 - src.execution.backtest_broker_refactored - INFO - Order submitted - ID: ORD-34e55788, side: SELL, quantity: 1, symbol: SPY, type: MARKET
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    Broker order ID: ORD-34e55788
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    Market data for SPY: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    Raw market data: {}
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    Calling market_simulator.simulate_fill()
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO - ğŸ² MarketSimulator.simulate_fill() called for ORD-34e55788
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Order: SPY -1 1 @ None (type: MARKET)
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Market: price=100.0, volume=1000000, spread=0.01
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Fill probability check: 0.644 vs 0.95
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    _calculate_fill_price: order.order_type=OrderType.MARKET, OrderType.MARKET=OrderType.MARKET
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Order type comparison: True
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Market order detected, returning market_price: 100.0
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Fill price calculation: 100.0
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Final fill price (with slippage): 99.95 (slippage: -0.05)
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO -    Fill quantity: 1.0
2025-06-02 16:30:45,177 - src.execution.market_simulation - INFO - Simulated fill: SELL 1.0 SPY @ 99.95 (market: 100.00, slippage: -0.0500, commission: 0.50)
2025-06-02 16:30:45,177 - src.execution.backtest_broker_refactored - INFO - Fill recorded - ID: 1b04360f-9488-45be-86f9-fdd1371cd4d4, order: ORD-34e55788, side: SELL, quantity: 1.0, symbol: SPY, price: 99.95
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    Broker execute_fill result: True
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    âœ… Broker returned True, proceeding with order completion
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    ğŸ“ Adding fill to order manager
2025-06-02 16:30:45,177 - src.execution.order_manager - INFO - Order ORD-34e55788 status: OrderStatus.SUBMITTED -> OrderStatus.FILLED
2025-06-02 16:30:45,177 - src.execution.order_manager - INFO - Fill added to order ORD-34e55788: 1.0 @ 99.95
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    ğŸ“ Fill added to order manager: True
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    ğŸ“Š Recording fill metrics
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO -    ğŸ“Š Fill metrics recorded successfully
2025-06-02 16:30:45,177 - src.execution.execution_engine - INFO - Order executed: ORD-34e55788 - Fill: 1b04360f-9488-45be-86f9-fdd1371cd4d4
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - INFO - [FILL] FILLED: SPY -1 1.00 @ 99.9500
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - INFO - ExecutionContainer generated fill for order ORD-34e55788
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=100.05
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - ERROR - Error updating portfolio with fill: unsupported operand type(s) for +=: 'float' and 'decimal.Decimal'
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - ERROR - Fill details: symbol=SPY, quantity=1.0, price=99.95
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - INFO - ğŸ” IndicatorContainer received event: EventType.SYSTEM
2025-06-02 16:30:45,177 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Received END_OF_DATA signal
2025-06-02 16:30:45,177 - src.execution.containers_pipeline - INFO - ğŸ“¢ Published END_OF_DATA event
2025-06-02 16:30:45,177 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - Workflow completed normally
2025-06-02 16:30:47,179 - src.core.coordinator.composable_workflow_manager_pipeline - INFO - ğŸ“Š Final Portfolio Summary:
2025-06-02 16:30:47,179 - src.core.coordinator.composable_workflow_manager_pipeline - INFO -    ğŸ’° Cash Balance: $97190.73
2025-06-02 16:30:47,179 - src.core.coordinator.composable_workflow_manager_pipeline - INFO -    ğŸ“ˆ Position Value: $2807.86
2025-06-02 16:30:47,179 - src.core.coordinator.composable_workflow_manager_pipeline - INFO -    ğŸ† Total Equity: $99998.59
2025-06-02 16:30:47,179 - src.core.coordinator.composable_workflow_manager_pipeline - INFO -    ğŸ“ Number of Positions: 1
2025-06-02 16:30:47,179 - src.execution.containers_pipeline - INFO - Data streaming stopped
2025-06-02 16:30:47,179 - src.execution.containers_pipeline - INFO - BacktestContainer stopped
2025-06-02 16:30:47,180 - __main__ - INFO - Workflow completed successfully
2025-06-02 16:30:47,180 - __main__ - INFO - Results: {'success': True, 'container_id': 'e744fd32-9555-4b78-a8e3-1cac7fc3d631', 'completion_time': datetime.datetime(2025, 6, 2, 16, 30, 47, 179259), 'portfolio': {'cash_balance': 97190.73333013915, 'position_value': 2807.859829124879, 'total_equity': 99998.59315926403, 'positions': 1, 'position_details': {'SPY': {'quantity': 28.092644613555567, 'market_value': 2807.859829124879}}}}
ğŸš€ Starting workflow execution...
âœ… Workflow execution completed in 2.93 seconds
